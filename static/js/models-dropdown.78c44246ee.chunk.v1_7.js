(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([[3113],{5925:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>f});var a=l(65043),o=l(65173),r=l.n(o),t=l(96377),i=l(89499),n=l(70579);const c=(0,a.memo)((e=>{var s;let{model:l,selected:a,onClick:o,searchTerm:r}=e;const t=e=>{if(!r||!e)return e;const s=new RegExp(`(${r})`,"gi"),l=e.split(s);return(0,n.jsx)(n.Fragment,{children:l.map(((e,l)=>s.test(e)?(0,n.jsx)("span",{className:i.A.ModelItem__highlight,children:e},l):(0,n.jsx)("span",{children:e},l)))})};return(0,n.jsxs)("div",{className:`${i.A.ModelItem} ${a?i.A["ModelItem--selected"]:""}`,onClick:()=>o(l),role:"option","aria-selected":a,children:[(0,n.jsx)("div",{className:i.A.ModelItem__icon,children:(null===(s=l.series)||void 0===s?void 0:s.charAt(0))||l.name.charAt(0)}),(0,n.jsxs)("div",{className:i.A.ModelItem__details,children:[(0,n.jsx)("div",{className:i.A.ModelItem__name,children:t(l.name)}),l.description&&(0,n.jsx)("div",{className:i.A.ModelItem__description,children:t(l.description)}),l.tags&&l.tags.length>0&&(0,n.jsx)("div",{className:i.A.ModelItem__tags,children:l.tags.map((e=>(0,n.jsx)("span",{className:i.A.ModelItem__tag,style:{backgroundColor:r&&e.toLowerCase().includes(r.toLowerCase())?"rgba(var(--button-bg-rgb), 0.2)":void 0},children:t(e)},e)))})]}),a&&(0,n.jsx)("div",{className:i.A.ModelItem__selectedIndicator,"data-testid":"check-icon",children:(0,n.jsx)(d,{className:i.A.ModelItem__checkIcon})})]})})),d=e=>{let{className:s}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":"true",children:(0,n.jsx)("polyline",{points:"20 6 9 17 4 12"})})};c.displayName="ModelItem";const p=c;var u=l(94692),h=l(66651);const m=e=>{let{searchTerm:s,onSearchChange:l,resultCount:o}=e;const r=(0,a.useRef)(null),t=(0,a.useCallback)((e=>{e&&"object"==typeof e&&e.target&&l(e.target.value)}),[l]),i=(0,a.useCallback)((()=>{l(""),r.current&&r.current.focus()}),[l]);return(0,n.jsxs)("div",{className:h.A.ModelSearch,children:[(0,n.jsxs)("div",{className:h.A.ModelSearch__inputWrapper,children:[(0,n.jsx)(u.WIv,{className:h.A.ModelSearch__icon,size:16}),(0,n.jsx)("input",{ref:r,type:"text",className:h.A.ModelSearch__input,placeholder:"Search models...",value:s,onChange:t,"aria-label":"Search models"}),s&&(0,n.jsx)("button",{className:h.A.ModelSearch__clearButton,onClick:i,"aria-label":"Clear search",children:(0,n.jsx)(u.uv5,{className:h.A.ModelSearch__clearIcon,size:16})})]}),s&&(0,n.jsxs)("div",{className:h.A.ModelSearch__results,children:[o," ",1===o?"result":"results"]})]})};var _=l(40255);const v=a.memo((e=>{let{selectedModel:s}=e;return(0,n.jsxs)("div",{className:_.A.ModelDropdown__selectedModelContainer,children:[(0,n.jsx)("div",{className:_.A.ModelDropdown__selectedModelLabel,children:"Current Model:"}),(0,n.jsxs)("div",{className:_.A.ModelDropdown__selectedModelInfo,children:[(0,n.jsx)("h3",{className:_.A.ModelDropdown__modelName,children:s?s.name:"No model selected"}),s&&(0,n.jsx)("p",{className:_.A.ModelDropdown__modelDescription,children:s.provider?`${s.provider} - ${s.type}`:"Model details unavailable"})]})]})}));v.propTypes={selectedModel:r().object};const M=a.memo((e=>{let{capabilities:s,activeCapability:l,onSelectCapability:o}=e;const r=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(r.current){const e=r.current.querySelector(`.${_.A["ModelDropdown__capabilityTab--active"]}`);if(e){const s=r.current,l=s.offsetWidth,a=e.offsetWidth,o=e.offsetLeft-l/2+a/2;s.scrollTo({left:Math.max(0,o),behavior:"smooth"})}}}),[l]),(0,n.jsx)("div",{className:_.A.ModelDropdown__capabilityTabs,ref:r,children:Object.keys(s).map((e=>(0,n.jsxs)("button",{className:`${_.A.ModelDropdown__capabilityTab} ${l===e?_.A["ModelDropdown__capabilityTab--active"]:""}`,onClick:()=>o(e),children:[e,(0,n.jsxs)("span",{children:[" (",s[e],")"]})]},e)))})})),b=a.memo((e=>{let{isLoading:s,groupedModels:l,selectedModel:a,onSelectModel:o,searchTerm:r,totalCount:t,activeCapability:i,onClearSearch:c}=e;return(0,n.jsx)("div",{className:_.A.ModelDropdown__modelList,role:"listbox",children:s?(0,n.jsx)("div",{className:_.A.ModelDropdown__loading,children:"Loading models..."}):l&&Object.keys(l).length>0?l.map((e=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:_.A.ModelDropdown__providerTypeHeader,children:[(0,n.jsx)("span",{className:_.A.ModelDropdown__providerName,children:e.provider}),(0,n.jsx)("span",{className:_.A.ModelDropdown__providerTypeSeparator,children:"â†’"}),(0,n.jsx)("span",{className:_.A.ModelDropdown__typeLabel,children:e.type}),(0,n.jsxs)("span",{className:_.A.modelCount,children:["(",e.models.length,")"]})]}),e.models.map((e=>(0,n.jsx)(p,{model:e,selected:(null==a?void 0:a.id)===e.id,onClick:o,searchTerm:r},e.id)))]},`${e.provider}-${e.type}`))):r&&0===t?(0,n.jsxs)("div",{className:_.A.ModelDropdown__noResults,children:['No models found matching "',r,'"',(0,n.jsx)("button",{className:_.A.ModelDropdown__clearSearch,onClick:c,children:"Clear search"})]}):(0,n.jsxs)("div",{className:_.A.ModelDropdown__noResults,children:["No ",i.toLowerCase()," models available"]})})}));b.propTypes={isLoading:r().bool.isRequired,groupedModels:r().array,selectedModel:r().object,onSelectModel:r().func.isRequired,searchTerm:r().string,totalCount:r().number,activeCapability:r().string.isRequired,onClearSearch:r().func.isRequired};const C=a.memo((e=>{let{searchTerm:s,onSearchChange:l,totalCount:a}=e;return(0,n.jsx)("div",{className:_.A.ModelDropdown__searchContainer,children:(0,n.jsx)(m,{searchTerm:s,onSearchChange:l,resultCount:a})})}));C.propTypes={searchTerm:r().string,onSearchChange:r().func.isRequired,totalCount:r().number};const x=a.forwardRef(((e,s)=>{let{isExperimentalModelsEnabled:l,toggleExperimentalModels:a,capabilitiesWithCounts:o,activeCapability:r,setActiveCapability:t,isLoading:i,groupedModels:c,selectedModel:d,handleSelectModel:p,searchTerm:u,totalCount:h,handleClearSearch:m}=e;return(0,n.jsxs)("div",{className:_.A.ModelDropdown__modelsContainer,ref:s,children:[(0,n.jsx)("div",{className:_.A.ModelDropdown__fixedHeader,children:(0,n.jsx)(M,{capabilities:o,activeCapability:r,onSelectCapability:t})}),(0,n.jsx)("div",{className:_.A.ModelDropdown__scrollableModelList,children:(0,n.jsx)(b,{isLoading:i,groupedModels:c,selectedModel:d,onSelectModel:p,searchTerm:u,totalCount:h,activeCapability:r,onClearSearch:m})})]})}));x.propTypes={isExperimentalModelsEnabled:r().bool,toggleExperimentalModels:r().func,capabilitiesWithCounts:r().object.isRequired,activeCapability:r().string.isRequired,setActiveCapability:r().func.isRequired,isLoading:r().bool.isRequired,groupedModels:r().array,selectedModel:r().object,handleSelectModel:r().func.isRequired,searchTerm:r().string,totalCount:r().number,handleClearSearch:r().func.isRequired};const g=e=>e?e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ").replace(/ai/gi,"AI"):"",j=(e,s,l,a,o,r)=>{if(!e)return!1;if(l){var t,i;const s=l.toLowerCase(),n=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(i=e.displayName)||void 0===i?void 0:i.toLowerCase().includes(s)),c=(null==a?void 0:a.toLowerCase().includes(s))||(null==o?void 0:o.toLowerCase().includes(s)),d=null==r?void 0:r.toLowerCase().includes(s),p=e.tags&&e.tags.some((e=>null==e?void 0:e.toLowerCase().includes(s)));if(!(n||c||d||p))return!1}return!0},f=()=>{const{processedModels:e,selectedModel:s,isLoading:l,selectModel:o,showExperimental:r,toggleExperimentalModels:i}=(0,t.fn)(),{modelFilter:c,updateSearchFilter:d}=(0,t.N7)(),[p,u]=(0,a.useState)("Chat"),h=(0,a.useRef)(null),m=(0,a.useCallback)((e=>{o(e)}),[o]),M=(0,a.useCallback)((e=>{"string"==typeof e&&d(e)}),[d]),b=(0,a.useCallback)((()=>{d("")}),[d]),f=(0,a.useMemo)((()=>{const s={};return e&&Object.keys(e).forEach((l=>{s[l]=Object.values(e[l]).flatMap((e=>Object.values(e))).flat().filter((e=>j(e,0,c.search,e.provider,g(e.provider),e.type))).length})),s}),[e,r,c.search]),y=(0,a.useMemo)((()=>{if(!e||!e[p])return[];const s=e[p],l=[];return Object.entries(s).forEach((e=>{let[s,a]=e;const o=g(s);Object.entries(a).forEach((e=>{let[a,r]=e;const t=r.filter((e=>j(e,0,c.search,s,o,a)));t.length>0&&l.push({provider:o,type:a,models:t})}))})),l}),[e,p,r,c.search]),A=(0,a.useMemo)((()=>y.reduce(((e,s)=>e+s.models.length),0)),[y]);return(0,n.jsxs)("div",{className:_.A.modelSelectionContainer,children:[(0,n.jsx)(v,{selectedModel:s}),(0,n.jsx)(C,{searchTerm:c.search,onSearchChange:M,totalCount:A}),(0,n.jsx)(x,{ref:h,isExperimentalModelsEnabled:r,toggleExperimentalModels:i,capabilitiesWithCounts:f,activeCapability:p,setActiveCapability:u,isLoading:l,groupedModels:y,selectedModel:s,handleSelectModel:m,searchTerm:c.search,totalCount:A,handleClearSearch:b})]})}},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},41497:(e,s,l)=>{"use strict";var a=l(13218);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,s,l,o,r,t){if(t!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function s(){return e}e.isRequired=e;var l={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:o};return l.PropTypes=l,l}},65173:(e,s,l)=>{e.exports=l(41497)()}}]);
//# sourceMappingURL=models-dropdown.78c44246ee.chunk.v1_7.js.map