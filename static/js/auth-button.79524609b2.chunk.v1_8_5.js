"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([[7970],{1465:(t,e,a)=>{a.d(e,{n:()=>o});var n=a(65043),i=a(94916);const o=t=>{const e=`profilePicture_${t}`,[a,o]=(0,i.M)(e,null),[l,r]=(0,n.useState)(null),[s,u]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null);return(0,n.useEffect)((()=>{let e=!0;if(!t)return r(null),void u(!1);let n=a;if(n){if("string"==typeof n){const t={data:n,timestamp:Date.now()};o(t),n=t}if(n.timestamp&&Date.now()-n.timestamp<864e5&&n.data)return r(n.data),void u(!1);o(null)}return u(!0),fetch(t).then((t=>{if(!t.ok)throw new Error(`Failed to fetch image: ${t.status}`);return t.blob()})).then((t=>new Promise(((e,a)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=a,n.readAsDataURL(t)})))).then((t=>{if(!e)return;const a={data:t,timestamp:Date.now()};o(a),r(t)})).catch((t=>{e&&d(t)})).finally((()=>{e&&u(!1)})),()=>{e=!1}}),[t,a,o]),{profilePicture:l,loading:s,error:c}}},3247:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var n=a(65043),i=a(94692),o=a(1465),l=(a(72383),a(2725)),r=a(83717),s=a(70579);const u=(0,n.memo)((t=>{let{isAuthenticated:e,onLogin:a,onLogout:n,userName:u="User",isLoading:c=!1,currentUser:d=null}=t;const{profilePicture:h,loading:f}=(0,o.n)(null==d?void 0:d.photoURL);return(0,s.jsx)("button",{className:"circleActionButton",onClick:e?n:a,disabled:c,title:c?"Checking authentication...":e?`Logged in as ${u}. Click to logout.`:"Login / Sign Up","aria-label":c?"Loading Authentication":e?"Logout":"Login or Sign Up",children:c?(0,s.jsx)(r.default,{size:"small",tag:"auth"}):e?null!=d&&d.photoURL?f?(0,s.jsx)(r.default,{size:"small",tag:"avatar"}):h?(0,s.jsx)("img",{src:h,alt:`${u}'s profile`,className:l.A.AuthButton__avatar,loading:"lazy"}):(0,s.jsx)("div",{className:l.A.AuthButton__initial,children:u.charAt(0).toUpperCase()}):(0,s.jsx)("div",{className:l.A.AuthButton__initial,children:u.charAt(0).toUpperCase()}):(0,s.jsx)(i._NI,{size:20})})}));u.displayName="AuthButton";const c=u}}]);
//# sourceMappingURL=auth-button.79524609b2.chunk.v1_8_5.js.map