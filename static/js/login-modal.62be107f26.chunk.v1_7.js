"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([[7314],{5532:(e,i,a)=>{a.r(i),a.d(i,{default:()=>u});var n=a(65043),s=a(35016),t=a(50423),l=a(96058),o=a(60184),r=a(83717),d=a(62224),c=a(70579);const u=e=>{let{onClose:i}=e;const{setIsLoggingIn:u,error:g}=(0,s.A)(),[h,p]=(0,n.useState)(!1),[m,b]=(0,n.useState)(null),[_,w]=(0,n.useState)(""),[A,x]=(0,n.useState)("");(0,n.useEffect)((()=>{g&&b(g)}),[g]);const L=async e=>{const{getFirebaseAuth:n}=await Promise.all([a.e(3424),a.e(2052),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(8507)]).then(a.bind(a,91729)),{signInWithPopup:s}=await Promise.all([a.e(3424),a.e(2052),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),t=n();if(t){p(!0),b(null);try{await s(t,e)}catch(e){"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code?(u(!1),i&&i()):"auth/popup-blocked"===e.code?(b("Popup blocked by browser. Please allow popups for this site."),p(!1)):(b(e.message||"Failed to sign in. Please try again."),p(!1))}}else b("Firebase not initialized. Cannot sign in.")},j=()=>{h||(u(!1),i&&i())};return(0,c.jsx)("div",{className:d.A.LoginModal,onClick:j,children:(0,c.jsxs)("div",{className:d.A.LoginModal__modal,onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("button",{className:d.A.LoginModal__closeButton,onClick:j,"aria-label":"Close login",children:(0,c.jsx)(t.WQq,{})}),(0,c.jsx)("h2",{className:d.A.LoginModal__title,children:"Login / Sign Up"}),(0,c.jsx)("p",{className:d.A.LoginModal__subtitle,children:"Choose a provider to continue"}),h&&(0,c.jsxs)("div",{className:d.A.LoginModal__spinnerContainer,children:[" ",(0,c.jsx)(r.default,{size:"large"}),(0,c.jsx)("p",{children:"Connecting..."})]}),!h&&(0,c.jsxs)("form",{className:d.A.LoginModal__emailForm,onSubmit:async e=>{e.preventDefault();const{getFirebaseAuth:i}=await Promise.all([a.e(3424),a.e(2052),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(8507)]).then(a.bind(a,91729)),{signInWithEmailAndPassword:n}=await Promise.all([a.e(3424),a.e(2052),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),s=i();if(s)if(_&&A){p(!0),b(null);try{await n(s,_,A)}catch(e){b(e.message||"Failed to sign in with email."),p(!1)}}else b("Please enter both email and password.");else b("Firebase not initialized.")},children:[" ",(0,c.jsx)("input",{type:"email",placeholder:"Email Address",value:_,onChange:e=>w(e.target.value),required:!0,className:d.A.LoginModal__inputField}),(0,c.jsx)("input",{type:"password",placeholder:"Password",value:A,onChange:e=>x(e.target.value),required:!0,className:d.A.LoginModal__inputField}),(0,c.jsxs)("div",{className:d.A.LoginModal__emailButtonContainer,children:[(0,c.jsx)("button",{type:"submit",className:d.A.LoginModal__emailButton,disabled:h,children:"Sign In"}),(0,c.jsx)("button",{type:"button",onClick:async e=>{e.preventDefault();const{getFirebaseAuth:i}=await Promise.all([a.e(3424),a.e(2052),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(8507)]).then(a.bind(a,91729)),{createUserWithEmailAndPassword:n}=await Promise.all([a.e(3424),a.e(2052),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),s=i();if(s)if(_&&A){p(!0),b(null);try{await n(s,_,A)}catch(e){b(e.message||"Failed to sign up with email."),p(!1)}}else b("Please enter both email and password.");else b("Firebase not initialized.")},className:`${d.A.LoginModal__emailButton} ${d.A.LoginModal__signUpButton}`,disabled:h,children:"Sign Up"})]})]}),!h&&(0,c.jsxs)("div",{className:d.A.LoginModal__alternativeLoginContainer,children:[(0,c.jsx)("p",{className:d.A.LoginModal__alternativeLoginText,children:"Or sign in with"}),(0,c.jsxs)("div",{className:d.A.LoginModal__providerIconContainer,children:[(0,c.jsx)("button",{className:d.A.LoginModal__providerIconButton,onClick:async()=>{const{GoogleAuthProvider:e}=await Promise.all([a.e(3424),a.e(2052),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),i=new e;L(i)},disabled:h,title:"Sign in with Google","aria-label":"Sign in with Google",children:(0,c.jsx)(l.F4b,{})}),(0,c.jsx)("button",{className:d.A.LoginModal__providerIconButton,onClick:async()=>{const{GithubAuthProvider:e}=await Promise.all([a.e(3424),a.e(2052),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),i=new e;L(i)},disabled:h,title:"Sign in with GitHub","aria-label":"Sign in with GitHub",children:(0,c.jsx)(o.hL4,{})})]})]}),m&&(0,c.jsx)("p",{className:d.A.LoginModal__error,children:m}),(0,c.jsx)("p",{className:d.A.LoginModal__footerText,children:"By signing in, you agree to our imaginary Terms of Service."})]})})}}}]);
//# sourceMappingURL=login-modal.62be107f26.chunk.v1_7.js.map