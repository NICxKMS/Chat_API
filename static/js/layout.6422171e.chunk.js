"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([[9133],{34180:(e,l,s)=>{s.r(l),s.d(l,{default:()=>w});var t=s(65043);const n={mobile:"640px",tablet:"1023px",desktop:"1024px"},a=new Map,i=e=>{const[l,s]=(0,t.useState)((()=>"undefined"!=typeof window&&window.matchMedia(e).matches));return(0,t.useEffect)((()=>{if("undefined"==typeof window)return;if(!a.has(e)){const l=window.matchMedia(e);a.set(e,{mediaQueryList:l,listeners:new Set})}const l=a.get(e),{mediaQueryList:t,listeners:n}=l;s(t.matches);const i=e=>{s(e.matches)};return n.add(i),t.addEventListener?(t.addEventListener("change",i),()=>{t.removeEventListener("change",i),n.delete(i),0===n.size&&a.delete(e)}):t.addListener?(t.addListener(i),()=>{t.removeListener(i),n.delete(i),0===n.size&&a.delete(e)}):void 0}),[e]),l};var o=s(96377),d=s(92503),r=s(92167),c=s(35016),h=s(13005),u=s(94692),m=s(82173),x=s(70579);const b=(0,t.lazy)((()=>Promise.all([s.e(3011),s.e(5087),s.e(8810),s.e(2845),s.e(9793),s.e(6017),s.e(399),s.e(4917),s.e(7777),s.e(7316),s.e(3294),s.e(3742)]).then(s.bind(s,61243)))),p=(0,t.lazy)((()=>Promise.all([s.e(6017),s.e(399),s.e(4917),s.e(7777),s.e(7316),s.e(3294),s.e(9565)]).then(s.bind(s,53709)))),y=(0,t.lazy)((()=>Promise.all([s.e(3011),s.e(5087),s.e(8810),s.e(2845),s.e(9793),s.e(6017),s.e(399),s.e(4917),s.e(7777),s.e(7316),s.e(3294),s.e(3113)]).then(s.bind(s,5925)))),g=(0,t.lazy)((()=>Promise.resolve().then(s.bind(s,83717)))),C=(0,t.lazy)((()=>Promise.all([s.e(6017),s.e(399),s.e(4917),s.e(7777),s.e(7316),s.e(3294),s.e(3244)]).then(s.bind(s,62813)))),j=(0,t.lazy)((()=>Promise.all([s.e(6017),s.e(399),s.e(4917),s.e(7777),s.e(7316),s.e(3294),s.e(2789)]).then(s.bind(s,93772)))),v=(0,t.lazy)((()=>Promise.all([s.e(6017),s.e(399),s.e(4917),s.e(7777),s.e(7316),s.e(3294),s.e(9231)]).then(s.bind(s,60391)))),f=(0,t.lazy)((()=>Promise.all([s.e(3011),s.e(5087),s.e(8810),s.e(2845),s.e(9793),s.e(6017),s.e(399),s.e(4917),s.e(7777),s.e(7316),s.e(3294),s.e(9848)]).then(s.bind(s,96960)))),k=(0,t.lazy)((()=>Promise.all([s.e(3011),s.e(5087),s.e(8810),s.e(2845),s.e(9793),s.e(6017),s.e(399),s.e(4917),s.e(7777),s.e(7316),s.e(3294),s.e(7970)]).then(s.bind(s,3247)))),S=()=>(0,x.jsx)("div",{className:m.A.loadingFallback,children:(0,x.jsx)(g,{size:"medium"})}),w=()=>{const e=(()=>{const e=(0,t.useMemo)((()=>`(min-width: ${n.desktop})`),[]);return i(e)})(),[l,s]=(0,t.useState)(e),[a,w]=(0,t.useState)(!1),[z,A]=(0,t.useState)(!1),{selectedModel:N,isLoadingModels:L}=(0,o.fn)(),{chatHistory:P}=(0,d.P)(),{clearChat:M,downloadChatHistory:O}=(0,r.r)(),{currentUser:E,isAuthenticated:T,login:U,logout:$,loading:R}=(0,c.A)(),{theme:_,toggleTheme:D}=(0,h.D)(),H=(0,t.useCallback)((()=>{s((e=>!e))}),[]),B=(0,t.useCallback)((()=>{w((e=>!e))}),[]),F=(0,t.useCallback)((()=>{A((e=>!e))}),[]),I=(0,t.useCallback)((()=>{e||s(!1),P.length>0&&M()}),[e,P.length,M]),Q=(0,t.useCallback)((()=>{if(0!==P.length&&window.confirm("Are you sure you want to clear the current chat?")){M();const e=document.createElement("div");e.style.position="fixed",e.style.bottom="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.backgroundColor="var(--hover)",e.style.color="var(--text)",e.style.padding="10px 20px",e.style.borderRadius="8px",e.style.zIndex="9999",e.textContent="Chat has been cleared",document.body.appendChild(e),setTimeout((()=>{document.body.removeChild(e)}),3e3)}}),[P.length,M]),X=(0,t.useCallback)((()=>{if(0!==P.length)try{O();const e=document.createElement("div");e.style.position="fixed",e.style.bottom="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.backgroundColor="var(--hover)",e.style.color="var(--text)",e.style.padding="10px 20px",e.style.borderRadius="8px",e.style.zIndex="9999",e.textContent="Chat downloaded successfully",document.body.appendChild(e),setTimeout((()=>{document.body.removeChild(e)}),3e3)}catch(e){alert("Failed to download chat. Please try again.")}}),[P.length,O]),K=e&&!l,V=[m.A.layout,K?m.A.sidebarCompact:"",!e&&l?m.A.sidebarOpenMobile:"",K?m.A.sidebarHidden:""].filter(Boolean).join(" ");return(0,x.jsxs)("div",{className:V,children:[(0,x.jsx)("div",{className:m.A.mobileActionsContainer,children:(0,x.jsxs)("div",{className:m.A.mobileActions,children:[(0,x.jsx)(t.Suspense,{fallback:null,children:(0,x.jsx)(C,{})}),(0,x.jsx)(t.Suspense,{fallback:null,children:(0,x.jsx)(k,{isAuthenticated:T,onLogin:U,onLogout:$,userName:(null==E?void 0:E.displayName)||(null==E?void 0:E.email)||"User",isLoading:R,currentUser:E})}),(0,x.jsx)("button",{className:m.A.mobileActionButton,onClick:B,"aria-label":"Settings",title:"Settings",children:(0,x.jsx)(u.L64,{size:20})}),(0,x.jsx)(f,{actions:[{icon:(0,x.jsx)(u.c11,{size:16}),label:"New Chat",onClick:I},{icon:(0,x.jsx)(u.ucK,{size:16}),label:"Reset Chat",onClick:Q},{icon:(0,x.jsx)(u.s3U,{size:16}),label:"Download Chat",onClick:X},...e?[]:[{icon:"dark"===_?(0,x.jsx)("span",{style:{fontSize:"16px"},children:"☀️"}):(0,x.jsx)("span",{style:{fontSize:"16px"},children:"🌙"}),label:`Switch to ${"dark"===_?"light":"dark"} mode`,onClick:D},{icon:(0,x.jsx)(u.L64,{size:16}),label:"Settings",onClick:B},{icon:T?(0,x.jsx)("span",{style:{fontSize:"16px"},children:"👤"}):(0,x.jsx)("span",{style:{fontSize:"16px"},children:"🔑"}),label:T?`Logout (${(null==E?void 0:E.displayName)||(null==E?void 0:E.email)||"User"})`:"Login",onClick:T?$:U}]]})]})}),(0,x.jsx)(t.Suspense,{fallback:(0,x.jsx)(S,{}),children:(0,x.jsx)(v,{isOpen:l,onToggle:H})}),z&&(0,x.jsx)(t.Suspense,{fallback:(0,x.jsx)("div",{className:m.A.modalOverlay,children:(0,x.jsx)(g,{size:"large"})}),children:(0,x.jsx)("div",{className:m.A.modalOverlay,onClick:F,children:(0,x.jsx)("div",{className:m.A.modalContent,onClick:e=>e.stopPropagation(),children:(0,x.jsx)(y,{})})})}),(0,x.jsx)("div",{className:m.A.sidebarContainer,children:(0,x.jsx)(t.Suspense,{fallback:(0,x.jsx)("div",{className:m.A.sidebarPlaceholder}),children:(0,x.jsx)(b,{onNewChat:I,onToggleSettings:B})})}),(0,x.jsx)("div",{className:m.A.mainContentContainer,children:(0,x.jsx)(t.Suspense,{fallback:(0,x.jsx)("div",{className:m.A.contentPlaceholder}),children:(0,x.jsx)(p,{isSidebarOpen:l,toggleSidebar:H,isSettingsOpen:a,toggleSettings:B,selectedModel:N,isLoadingModels:L,toggleModelSelector:F,isModelSelectorOpen:z,onNewChat:I,onToggleSettings:B,onResetChat:Q,onDownloadChat:X})})}),!e&&l&&(0,x.jsx)("div",{className:`${m.A.overlay} ${m.A.overlayVisible}`,onClick:H,"aria-hidden":"true"}),(0,x.jsxs)(t.Suspense,{fallback:null,children:[" ",(0,x.jsx)(j,{isOpen:a,onClose:B})]})]})}}}]);
//# sourceMappingURL=layout.6422171e.chunk.js.map