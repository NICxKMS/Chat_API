{"version":3,"file":"static/js/chat-container.aa6a318727.chunk.v1_9_7.js","mappings":"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","sources":["webpack://ai-chat-interface/./src/components/chat/ChatContainer/ChatContainer.module.css?6b1e","components/chat/ChatContainer/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ChatContainer\":\"ChatContainer_ChatContainer__gDxxm\",\"ChatContainer__modelButtonContainer\":\"ChatContainer_ChatContainer__modelButtonContainer__o2o-W\",\"ChatContainer__chatArea\":\"ChatContainer_ChatContainer__chatArea__C9Gex\",\"ChatContainer__scrollContainer\":\"ChatContainer_ChatContainer__scrollContainer__EsTiH\",\"ChatContainer__scrollInner\":\"ChatContainer_ChatContainer__scrollInner__3Ilzr\",\"ChatContainer--activeChat\":\"ChatContainer_ChatContainer--activeChat__KWxWx\",\"ChatContainer--emptyChat\":\"ChatContainer_ChatContainer--emptyChat__mu5Tu\",\"ChatContainer__emptyChatContent\":\"ChatContainer_ChatContainer__emptyChatContent__i4i2x\",\"ChatContainer__greetingMessage\":\"ChatContainer_ChatContainer__greetingMessage__3EPdA\",\"fadeIn\":\"ChatContainer_fadeIn__P3lvT\",\"ChatContainer__inputArea\":\"ChatContainer_ChatContainer__inputArea__wXHhL\",\"ChatContainer__staticInputArea\":\"ChatContainer_ChatContainer__staticInputArea__kEJZC\",\"ChatContainer__fixedInputArea\":\"ChatContainer_ChatContainer__fixedInputArea__nCo+i\",\"ChatContainer__inputControlsWrapper\":\"ChatContainer_ChatContainer__inputControlsWrapper__eRfOZ\",\"ChatContainer__placeholder\":\"ChatContainer_ChatContainer__placeholder__WXOtd\",\"shimmer\":\"ChatContainer_shimmer__Ysx8D\",\"ChatContainer__messagePlaceholder\":\"ChatContainer_ChatContainer__messagePlaceholder__zmYEv\",\"ChatContainer__metricsPlaceholder\":\"ChatContainer_ChatContainer__metricsPlaceholder__1ldeo\",\"ChatContainer__inputPlaceholder\":\"ChatContainer_ChatContainer__inputPlaceholder__gHNou\",\"ChatContainer__chatAreaWrapper\":\"ChatContainer_ChatContainer__chatAreaWrapper__eJWuZ\",\"ChatContainer__scrollToBottomButton\":\"ChatContainer_ChatContainer__scrollToBottomButton__hUqoT\",\"ChatContainer--editingMode\":\"ChatContainer_ChatContainer--editingMode__UWJFO\"};","import { memo, lazy, useRef, useEffect, useState, useCallback, useMemo, Suspense } from 'react';\nimport { useChatLogic } from '../../../hooks/useChatLogic';\nimport { ChevronDownIcon } from '@primer/octicons-react';\nimport styles from './ChatContainer.module.css';\nimport throttle from 'lodash.throttle';\nimport PropTypes from 'prop-types';\n\n// Lazy-loaded components\nconst MessageList = lazy(() => import(/* webpackChunkName: \"chat-messagelist\" */ '../MessageList'));\nconst ChatInput = lazy(() => import(/* webpackChunkName: \"chat-input\" */ '../ChatInput'));\nconst GlobalMetricsBar = lazy(() => import(/* webpackChunkName: \"chat-globalmetrics\" */ '../GlobalMetricsBar'));\nconst ModelSelectorButton = lazy(() => import(/* webpackChunkName: \"model-selector-button\" */ '../../models/ModelSelectorButton'));\n\n/**\n * Main chat container component\n */\nconst ChatContainer = memo(({ \n  selectedModel: passedSelectedModel,\n  isLoadingModels, \n  toggleModelSelector,\n  onToggleSettings,\n  isSidebarOpen,\n  isSettingsOpen,\n  isModelSelectorOpen\n}) => {\n  const {\n    chatHistory,\n    isWaitingForResponse,\n    error,\n    metrics, \n    selectedModel: modelFromLogic,\n    handleSendMessage,\n  } = useChatLogic();\n\n  // Add state to track which message is being edited\n  const [editingMessage, setEditingMessage] = useState(null);\n\n  const messageListRef = useRef(null);\n  const scrollContainerRef = useRef(null);\n  const containerRef = useRef(null);\n  const isActiveChat = chatHistory.length > 0;\n  const [showScrollToBottomButton, setShowScrollToBottomButton] = useState(false);\n  const prevWaitingForResponse = useRef(isWaitingForResponse);\n\n  // === Performance-tuned handlers ===\n  // Smooth scroll to bottom, memoized\n  const scrollToBottom = useCallback((behavior = 'smooth') => {\n    if (scrollContainerRef.current) {\n      scrollContainerRef.current.scrollTo({ top: scrollContainerRef.current.scrollHeight, behavior });\n      setShowScrollToBottomButton(false);\n    }\n  }, []);\n\n  // Scroll handler for showing/hiding the scroll-to-bottom button, throttled\n  const handleScroll = useCallback(() => {\n    const container = scrollContainerRef.current;\n    if (!container) return;\n    const scrollThreshold = 10;\n    const atBottom = container.scrollHeight - container.scrollTop - container.clientHeight < scrollThreshold;\n    setShowScrollToBottomButton(!atBottom);\n  }, []);\n  const throttledHandleScroll = useMemo(\n    () => throttle(handleScroll, 100),\n    [handleScroll]\n  );\n\n  // Focus input helper, memoized\n  const focusInputField = useCallback(() => {\n    // Use a timeout to ensure the component is fully rendered and mounted\n    setTimeout(() => {\n      // Try to find the textarea within the ChatInput component\n      const inputField = document.querySelector('textarea.'+styles.chatInput) || \n                         document.querySelector('textarea[aria-label=\"Chat message input\"]');\n      if (inputField) {\n        inputField.focus();\n      }\n    }, 100);\n  }, []);\n\n  // Focus the input field when the component is mounted\n  useEffect(() => {\n    focusInputField();\n  }, [focusInputField]);\n\n  // Focus input when response is completed, only if UI elements aren't open\n  useEffect(() => {\n    // Check if response has just completed (was waiting, now not waiting)\n    if (prevWaitingForResponse.current && !isWaitingForResponse) {\n      // Only focus if no UI elements are open\n      const noUIElementsOpen = !isSidebarOpen && !isSettingsOpen && !isModelSelectorOpen && !editingMessage;\n      \n      if (noUIElementsOpen) {\n        focusInputField();\n      }\n    }\n    \n    // Update the ref for the next check\n    prevWaitingForResponse.current = isWaitingForResponse;\n  }, [isWaitingForResponse, isSidebarOpen, isSettingsOpen, isModelSelectorOpen, editingMessage, focusInputField]);\n\n  // Effect to handle manual scrolling by the user (NOW MANAGES BUTTON VISIBILITY)\n  useEffect(() => {\n    const container = scrollContainerRef.current;\n    if (!container) return;\n    // Initial check\n    throttledHandleScroll();\n    container.addEventListener('scroll', throttledHandleScroll, { passive: true });\n    return () => {\n      container.removeEventListener('scroll', throttledHandleScroll);\n      throttledHandleScroll.cancel();\n    };\n  }, [throttledHandleScroll]);\n\n  // Effect to handle manual scrolling by the user (NOW MANAGES BUTTON VISIBILITY)\n  useEffect(() => {\n    const container = scrollContainerRef.current;\n    if (!container) return;\n\n    const handleScroll = () => {\n      const scrollThreshold = 10; // Pixels from bottom to consider \"at bottom\"\n      const atBottom = container.scrollHeight - container.scrollTop - container.clientHeight < scrollThreshold;\n      // Show the button if user is NOT at the bottom\n      setShowScrollToBottomButton(!atBottom);\n    };\n\n    // Run handler once initially to set correct state\n    handleScroll();\n\n    container.addEventListener('scroll', handleScroll, { passive: true });\n    return () => container.removeEventListener('scroll', handleScroll);\n\n  }, [showScrollToBottomButton]); // Dependency helps re-attach listener if needed, though primary logic is inside\n\n  // Need another effect to check scroll position when chatHistory length changes,\n  // as new content might make the button necessary even if user didn't scroll.\n  useEffect(() => {\n    // React to new messages by re-checking scroll only once after DOM update\n    const timeout = setTimeout(() => throttledHandleScroll(), 100);\n    return () => clearTimeout(timeout);\n  }, [chatHistory, throttledHandleScroll]);\n\n  // Use the selected model passed down for the button, but model from logic elsewhere\n  const displayModelName = passedSelectedModel?.name;\n  const displayProviderName = passedSelectedModel?.provider;\n\n  // Handle edit message request from a message\n  const handleEditMessage = useCallback((message) => {\n    setEditingMessage(message);\n    // Scroll to input area if needed\n    setTimeout(() => {\n      const inputArea = document.querySelector(`.${styles.ChatContainer__fixedInputArea}`);\n      if (inputArea) {\n        // inputArea.scrollIntoView({ behavior: 'smooth' });\n      }\n    }, 100);\n  }, [setEditingMessage]);\n\n  // Handle cancel edit\n  const handleCancelEdit = useCallback(() => {\n    setEditingMessage(null);\n  }, []);\n\n  // Classes for the main container\n  const chatContainerClasses = `${styles.ChatContainer} ${isActiveChat ? styles['ChatContainer--activeChat'] : styles['ChatContainer--emptyChat']} ${editingMessage ? styles['ChatContainer--editingMode'] : ''}`;\n\n  // Helper function to render the input area contents\n  const renderInputAreaContents = (isFixedLayout) => {\n    // Determine if it's the initial chat state\n    const isInitialChat = !isActiveChat;\n\n    return (\n      <>\n        {/* Global Metrics: Only show when fixed */}\n        {isFixedLayout && !editingMessage && (\n          <Suspense fallback={<div className={styles.globalMetricsPlaceholder} />}>\n            <GlobalMetricsBar \n              metrics={metrics?.session}\n              modelName={modelFromLogic?.name} \n            />\n          </Suspense>\n        )}\n\n        <div className={styles.ChatContainer__inputControlsWrapper}> \n          <Suspense fallback={<div className={styles.ChatContainer__inputPlaceholder} />}>\n            <ChatInput\n              isInitialChat={isInitialChat}\n              onSendMessage={handleSendMessage}\n              selectedModel={modelFromLogic} \n              editingMessage={editingMessage}\n              onCancelEdit={handleCancelEdit}\n              isStreaming={isWaitingForResponse}\n              toggleModelSelector={toggleModelSelector}\n              onFocus={focusInputField}\n            />\n          </Suspense>\n        </div>\n      </>\n    );\n  };\n\n  // Update CSS var for input height\n  useEffect(() => {\n    if (!chatHistory.length) return;\n    const container = containerRef.current;\n    if (!container) return;\n    const updateInputHeight = () => {\n      const inputArea = container.querySelector(`.${styles.ChatContainer__fixedInputArea}`);\n      if (inputArea) {\n        const height = inputArea.getBoundingClientRect().height;\n        container.style.setProperty('--input-height', `${height}px`);\n      }\n    };\n    updateInputHeight();\n    window.addEventListener('resize', updateInputHeight);\n    return () => window.removeEventListener('resize', updateInputHeight);\n  }, [chatHistory]);\n\n  return (\n    <div ref={containerRef} className={chatContainerClasses}>\n      {/* Container for the Model Selector Button */}\n      <div className={styles.ChatContainer__modelButtonContainer}>\n        <Suspense fallback={null}> \n          <ModelSelectorButton \n            selectedModelName={displayModelName}\n            providerName={displayProviderName}\n            onClick={toggleModelSelector}\n            disabled={isLoadingModels}\n          />\n        </Suspense>\n      </div>\n\n      <div className={styles.ChatContainer__chatAreaWrapper}>\n        <div className={styles.ChatContainer__chatArea}>\n          {isActiveChat ? (\n            // Active Chat: Render MessageList inside scroll container\n            <div className={styles.ChatContainer__scrollContainer} ref={scrollContainerRef}>\n              <div className={styles.ChatContainer__scrollInner}>\n                <Suspense fallback={<div className={styles.messagePlaceholder} />}>\n                  <MessageList\n                    ref={messageListRef}\n                    messages={chatHistory}\n                    error={error}\n                    onEditMessage={handleEditMessage}\n                  />\n                </Suspense>\n              </div>\n            </div>\n          ) : (\n            // Empty Chat: Render Greeting and Input Area (Static Layout)\n            <div className={styles.ChatContainer__emptyChatContent}>\n              <div className={styles.ChatContainer__greetingMessage}>\n                <h2>Welcome to AI Chat!</h2>\n                <p>Select a model above and start your conversation.</p>\n              </div>\n              {/* Render input area directly below greeting */}\n              <div className={`${styles.ChatContainer__inputArea} ${styles.ChatContainer__staticInputArea}`}> \n                {renderInputAreaContents(false)} \n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Scroll to Bottom Button */}\n        {showScrollToBottomButton && isActiveChat && (\n          <button\n            className={styles.ChatContainer__scrollToBottomButton}\n            onClick={() => scrollToBottom('smooth')}\n            aria-label=\"Scroll to bottom\"\n            title=\"Scroll to bottom\"\n          >\n            <ChevronDownIcon size={20} />\n          </button>\n        )}\n      </div>\n\n      {/* Fixed Input Area Wrapper (Only rendered when chat is active) */}\n      {isActiveChat && (\n        <div className={`${styles.ChatContainer__inputArea} ${styles.ChatContainer__fixedInputArea}`}> \n          {renderInputAreaContents(true)} \n        </div>\n      )}\n    </div>\n  );\n});\n\nChatContainer.displayName = 'ChatContainer';\n\nChatContainer.propTypes = {\n  selectedModel: PropTypes.object, // Shape could be refined\n  isLoadingModels: PropTypes.bool,\n  toggleModelSelector: PropTypes.func.isRequired,\n  onToggleSettings: PropTypes.func.isRequired,\n  isSidebarOpen: PropTypes.bool,\n  isSettingsOpen: PropTypes.bool,\n  isModelSelectorOpen: PropTypes.bool\n};\n\nexport default ChatContainer; "],"names":["MessageList","lazy","ChatInput","GlobalMetricsBar","ModelSelectorButton","ChatContainer","memo","_ref","selectedModel","passedSelectedModel","isLoadingModels","toggleModelSelector","onToggleSettings","isSidebarOpen","isSettingsOpen","isModelSelectorOpen","chatHistory","isWaitingForResponse","error","metrics","modelFromLogic","handleSendMessage","useChatLogic","editingMessage","setEditingMessage","useState","messageListRef","useRef","scrollContainerRef","containerRef","isActiveChat","length","showScrollToBottomButton","setShowScrollToBottomButton","prevWaitingForResponse","scrollToBottom","useCallback","behavior","arguments","undefined","current","scrollTo","top","scrollHeight","handleScroll","container","atBottom","scrollTop","clientHeight","throttledHandleScroll","useMemo","throttle","focusInputField","setTimeout","inputField","document","querySelector","styles","chatInput","focus","useEffect","addEventListener","passive","removeEventListener","cancel","timeout","clearTimeout","displayModelName","name","displayProviderName","provider","handleEditMessage","message","ChatContainer__fixedInputArea","handleCancelEdit","chatContainerClasses","renderInputAreaContents","isFixedLayout","isInitialChat","_jsxs","_Fragment","children","_jsx","Suspense","fallback","className","globalMetricsPlaceholder","session","modelName","ChatContainer__inputControlsWrapper","ChatContainer__inputPlaceholder","onSendMessage","onCancelEdit","isStreaming","onFocus","updateInputHeight","inputArea","height","getBoundingClientRect","style","setProperty","window","ref","ChatContainer__modelButtonContainer","selectedModelName","providerName","onClick","disabled","ChatContainer__chatAreaWrapper","ChatContainer__chatArea","ChatContainer__scrollContainer","ChatContainer__scrollInner","messagePlaceholder","messages","onEditMessage","ChatContainer__emptyChatContent","ChatContainer__greetingMessage","ChatContainer__inputArea","ChatContainer__staticInputArea","ChatContainer__scrollToBottomButton","title","ChevronDownIcon","size","displayName"],"sourceRoot":""}