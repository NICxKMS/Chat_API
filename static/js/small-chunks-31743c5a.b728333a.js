"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([[4833],{3970:(e,t,a)=>{a.d(t,{e:()=>o});var r=a(65043);if(9121==a.j)var n=a(23708);if(9121==a.j)var s=a(96377);if(9121==a.j)var i=a(20409);const o=()=>{const{chatHistory:e,isWaitingForResponse:t,error:a,metrics:o,submitMessage:l,resetChat:d,downloadChatHistory:c}=(0,n.Y_)(),{selectedModel:u}=(0,s.fn)(),{settings:h}=(0,i.t)(),m=(0,r.useCallback)((async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=!!a;if(((Array.isArray(t)?t.map((e=>"text"===e.type?e.text:"")).join(" ").trim():t)||Array.isArray(t))&&u)try{if(r){const r=a.uniqueId||a.id||a.timestamp;let n=-1;if(r&&(n=e.findIndex((e=>e.uniqueId===r||e.id===r))),-1===n&&a.timestamp&&(n=e.findIndex((e=>e.timestamp===a.timestamp&&"user"===e.role))),-1===n&&"string"==typeof a.content&&(n=e.findIndex((e=>"string"==typeof e.content&&e.content===a.content&&"user"===e.role))),-1===n)return;const s=Array.isArray(t)?t:{type:"text",text:t};Array.isArray(s),s.uniqueId=r,await l(s,n)}else{const e=`msg_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,a=Array.isArray(t)?t.map((t=>({...t,uniqueId:e}))):t;Array.isArray(a)||(a.uniqueId=e),await l(a)}}catch(e){}}),[u,l,e]);return{chatHistory:e,isWaitingForResponse:t,error:a,metrics:o,selectedModel:u,settings:h,handleSendMessage:m,resetChat:d,downloadChatHistory:c}}},13005:(e,t,a)=>{a.d(t,{D:()=>i,N:()=>o});var r=a(65043),n=a(70579);const s=9121==a.j?(0,r.createContext)():null,i=()=>{const e=(0,r.useContext)(s);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},o=e=>{let{children:t}=e;const[a,i]=(0,r.useState)((()=>localStorage.getItem("theme")||"dark")),o=(0,r.useCallback)((()=>{i((e=>{const t="dark"===e?"light":"dark";return localStorage.setItem("theme",t),t}))}),[]);(0,r.useEffect)((()=>{document.body.classList.remove("light-mode","dark-mode"),document.body.classList.add(`${a}-mode`)}),[a]);const l=(0,r.useMemo)((()=>({theme:a,toggleTheme:o,isDark:"dark"===a})),[a,o]);return(0,n.jsx)(s.Provider,{value:l,children:t})}},20409:(e,t,a)=>{a.d(t,{Z:()=>l,t:()=>o});var r=a(65043),n=a(70579);const s={temperature:.7,top_p:1,max_tokens:8191,frequency_penalty:0,presence_penalty:0,streaming:!0,systemPrompt:"You are ChatGPT, a helpful and knowledgeable AI assistant. Your primary role is to assist Nikhil, a university engineering student, by providing clear, concise, and technically accurate information. Adopt a friendly and approachable tone, akin to a knowledgeable peer or mentor. Enhance your responses with relevant emojis to convey tone and emotion, making interactions more engaging. Structure your answers logically, using bullet points or numbered lists where appropriate to enhance clarity. When applicable, incorporate interactive elements such as code snippets or diagrams to facilitate deeper understanding. Encourage curiosity by suggesting related topics or questions that Nikhil might explore further. Always tailor your assistance to support Nikhil's academic and personal growth in the field of engineering"},i=9121==a.j?(0,r.createContext)():null,o=()=>{const e=(0,r.useContext)(i);if(void 0===e)throw new Error("useSettings must be used within a SettingsProvider");return e},l=e=>{let{children:t}=e;const[a,o]=(0,r.useState)((()=>{try{const e=localStorage.getItem("chatSettings");if(e){const t=JSON.parse(e);return void 0===t.streaming&&(t.streaming=s.streaming),{...s,...t}}}catch(e){}return s})());(0,r.useEffect)((()=>{try{localStorage.setItem("chatSettings",JSON.stringify(a))}catch(e){}}),[a]);const l=(0,r.useCallback)(((e,t)=>{e in s&&o((a=>({...a,[e]:t})))}),[a]),d=(0,r.useCallback)((()=>{o(s)}),[]),c=(0,r.useCallback)((e=>!!e&&(!0===e.requiresFixedTemperature||e.properties&&e.properties.includes("fixed_temperature")||e.id&&e.id.toLowerCase().startsWith("o")||e.series&&"o-series"===e.series.toLowerCase())),[]),u=(0,r.useCallback)((e=>c(e)?{...a,temperature:1}:a),[a,c]),h=(0,r.useMemo)((()=>({settings:a,updateSetting:l,resetSettings:d,shouldRestrictTemperature:c,getModelAdjustedSettings:u})),[a,l,d,c,u]);return(0,n.jsx)(i.Provider,{value:h,children:t})}},35016:(e,t,a)=>{a.d(t,{A:()=>i,O:()=>o});var r=a(65043),n=a(70579);const s=9121==a.j?(0,r.createContext)():null,i=()=>{const e=(0,r.useContext)(s);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:t}=e;const[i,o]=(0,r.useState)(null),[l,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[p,g]=(0,r.useState)(!1),[f,w]=(0,r.useState)(!1);(0,r.useEffect)((()=>{let e=null;const t=()=>{w(!0),r()},r=async()=>{u(!0);const{getFirebaseAuth:t}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(912),a.e(8417),a.e(6056),a.e(9469),a.e(8896),a.e(652),a.e(8513),a.e(5391),a.e(5417),a.e(6986),a.e(4833),a.e(8447)]).then(a.bind(a,91729)),{onAuthStateChanged:r}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(912),a.e(8417),a.e(6056),a.e(9469),a.e(8896),a.e(652),a.e(8513),a.e(5391),a.e(5417),a.e(6986),a.e(4833),a.e(8447)]).then(a.bind(a,94135)),n=t();n?e=r(n,(async e=>{if(o(e),e)try{const t=await e.getIdToken();d(t),m(null),g(!1)}catch(e){m("Failed to get authentication token."),d(null);const{signOut:t}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(912),a.e(8417),a.e(6056),a.e(9469),a.e(8896),a.e(652),a.e(8513),a.e(5391),a.e(5417),a.e(6986),a.e(4833),a.e(8447)]).then(a.bind(a,94135));await t(n)}else d(null),g(!1);u(!1)})):u(!1)};return window.addEventListener("firebaseInitialized",t),()=>{window.removeEventListener("firebaseInitialized",t),"function"==typeof e&&e()}}),[]);const y={currentUser:i,idToken:l,loading:c,error:h,login:async()=>{g(!0)},logout:async()=>{if(!f)return;const{getFirebaseAuth:e}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(912),a.e(8417),a.e(6056),a.e(9469),a.e(8896),a.e(652),a.e(8513),a.e(5391),a.e(5417),a.e(6986),a.e(4833),a.e(8447)]).then(a.bind(a,91729)),{signOut:t}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(912),a.e(8417),a.e(6056),a.e(9469),a.e(8896),a.e(652),a.e(8513),a.e(5391),a.e(5417),a.e(6986),a.e(4833),a.e(8447)]).then(a.bind(a,94135)),r=e();if(r)try{await t(r)}catch(e){m(e.message||"Failed to logout.")}else m("Firebase not initialized.")},isAuthenticated:!!i&&!!l,isLoggingIn:p,setIsLoggingIn:g,isFirebaseInitialized:f};return(0,n.jsx)(s.Provider,{value:y,children:t})}},52523:(e,t,a)=>{a.d(t,{v:()=>u});var r=a(65043);if(9121==a.j)var n=a(13005);if(9121==a.j)var s=a(91578);if(9121==a.j)var i=a(96377);if(9121==a.j)var o=a(20409);if(9121==a.j)var l=a(23708);var d=a(70579);const c=9121==a.j?(0,r.createContext)(null):null,u=e=>{let{children:t}=e;const a=(0,r.useMemo)((()=>({isInitialized:!1,setInitialized:e=>{a.isInitialized=e}})),[]);return(0,d.jsx)(c.Provider,{value:a,children:(0,d.jsx)(n.N,{children:(0,d.jsx)(s.K,{children:(0,d.jsx)(i.lx,{children:(0,d.jsx)(o.Z,{children:(0,d.jsx)(l.k_,{children:t})})})})})})}},72152:(e,t,a)=>{a.d(t,{Y:()=>s});var r=a(65043);if(9121==a.j)var n=a(94916);const s=()=>{const[e,t]=(0,n.M)("modelCacheEnabled",!0),a=(0,r.useCallback)((()=>{try{localStorage.removeItem("modelDropdownCache")}catch(e){}}),[]),s=(0,r.useCallback)((r=>{const n="boolean"==typeof r?r:!e;return n||a(),t(n),n}),[e,t,a]),i=(0,r.useCallback)((()=>{a()}),[a]);return(0,r.useEffect)((()=>{if("undefined"==typeof window)return;const e=window.isCacheValid;return window.isCacheValid=function(t){return"false"!==localStorage.getItem("modelCacheEnabled")&&("function"==typeof e?e(t):t&&t.timestamp&&Date.now()-t.timestamp<3e5&&t.allModels&&t.processedModels&&t.experimentalModels)},()=>{window.isCacheValid=e}}),[]),{cacheEnabled:e,toggleCache:s,clearModelCache:a,refreshModels:i}}},72812:(e,t,a)=>{var r=a(65043),n=a(84391),s=(a(59555),a(54111)),i=a(89031),o=a(79668),l=a(70579);n.createRoot(document.getElementById("root")).render((0,l.jsx)(r.StrictMode,{children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading..."}),children:(0,l.jsx)(s.A,{})})})),(0,i.A)((function(){})),o.k({onUpdate:e=>{const t=e.waiting;t&&(t.addEventListener("statechange",(e=>{"activated"===e.target.state&&window.location.reload()})),t.postMessage({type:"SKIP_WAITING"}))}})},73512:(e,t,a)=>{a.d(t,{GM:()=>o});var r=a(65043);const n={mobile:"640px",tablet:"1023px",desktop:"1024px"},s=new Map,i=e=>{const[t,a]=(0,r.useState)((()=>"undefined"!=typeof window&&window.matchMedia(e).matches));return(0,r.useEffect)((()=>{if("undefined"==typeof window)return;if(!s.has(e)){const t=window.matchMedia(e);s.set(e,{mediaQueryList:t,listeners:new Set})}const t=s.get(e),{mediaQueryList:r,listeners:n}=t;a(r.matches);const i=e=>{a(e.matches)};return n.add(i),r.addEventListener?(r.addEventListener("change",i),()=>{r.removeEventListener("change",i),n.delete(i),0===n.size&&s.delete(e)}):r.addListener?(r.addListener(i),()=>{r.removeListener(i),n.delete(i),0===n.size&&s.delete(e)}):void 0}),[e]),t},o=()=>{const e=(0,r.useMemo)((()=>`(min-width: ${n.desktop})`),[]);return i(e)}},91578:(e,t,a)=>{a.d(t,{K:()=>o,g:()=>i});var r=a(65043),n=a(70579);const s=9121==a.j?(0,r.createContext)():null,i=()=>{const e=(0,r.useContext)(s);if(void 0===e)throw new Error("useApi must be used within an ApiProvider");return e},o=e=>{let{children:t}=e;const[a]=(0,r.useState)("http://localhost:3000"),i=(0,r.useMemo)((()=>({apiUrl:a})),[a]);return(0,n.jsx)(s.Provider,{value:i,children:t})}},91729:(e,t,a)=>{a.r(t),a.d(t,{getFirebaseApp:()=>c,getFirebaseAuth:()=>d,initializeFirebase:()=>l});var r=a(37064),n=a(94135);const s={apiKey:"AIzaSyBFfhhSVa6_gI1wfCCXqaSaFjG2mIIhNLY",authDomain:"unified-chat-api-auth.firebaseapp.com",projectId:"unified-chat-api-auth",storageBucket:"unified-chat-api-auth.firebasestorage.app",messagingSenderId:"710958124624",appId:"1:710958124624:web:2298e2b40dadf3c2b30b55"};let i=null,o=null;const l=()=>{if(i)return{app:i,auth:o};if(s.apiKey&&s.authDomain&&s.projectId&&s.appId)try{i=(0,r.Wp)(s),o=(0,n.xI)(i)}catch(e){i=null,o=null}return{app:i,auth:o}},d=()=>{if(!o){const{auth:e}=l();return e}return o},c=()=>{if(!i){const{app:e}=l();return e}return i}},94916:(e,t,a)=>{a.d(t,{M:()=>n});var r=a(65043);const n=(e,t)=>{const a=(0,r.useRef)(t),[n,s]=(0,r.useState)((()=>{try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):a.current}catch(e){return a.current}})),i=(0,r.useCallback)((t=>{try{const a=t instanceof Function?t(n):t;s(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(e){}}),[e,n]);return(0,r.useEffect)((()=>{try{const t=window.localStorage.getItem(e);s(t?JSON.parse(t):a.current)}catch(e){s(a.current)}}),[e]),[n,i]}},96377:(e,t,a)=>{a.d(t,{N7:()=>h,fn:()=>u,lx:()=>m});var r=a(65043);if(9121==a.j)var n=a(91578);if(9121==a.j)var s=a(94916);if(9121==a.j)var i=a(35016);var o=a(70579);const l=9121==a.j?18e6:null,d=9121==a.j?(0,r.createContext)():null,c=9121==a.j?(0,r.createContext)():null,u=()=>{const e=(0,r.useContext)(d);if(void 0===e)throw new Error("useModel must be used within a ModelProvider");return e},h=()=>{const e=(0,r.useContext)(c);if(void 0===e)throw new Error("useModelFilter must be used within a ModelProvider");return e},m=e=>{let{children:t}=e;const{apiUrl:u}=(0,n.g)(),{idToken:h}=(0,i.A)(),[m,p]=(0,r.useState)([]),[g,f]=(0,r.useState)({}),[w,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(null),[x,S]=(0,r.useState)(!0),[C,M]=(0,r.useState)(null),[k,j]=(0,r.useState)(!0),[I,E]=(0,s.M)("showExperimental",!1),[A,L]=(0,r.useState)({search:"",categories:{Chat:!0,Image:!0,Embedding:!0}}),P=(0,r.useCallback)((e=>e&&e.timestamp&&Date.now()-e.timestamp<l&&e.allModels&&e.processedModels&&e.experimentalModels),[]);(0,r.useEffect)((()=>{if("undefined"!=typeof window)return window.isCacheValid=P,()=>{delete window.isCacheValid}}),[P]);const F=(0,r.useCallback)((e=>{try{const t={allModels:e.allModels,processedModels:e.processedModels,experimentalModels:e.experimentalModels,timestamp:Date.now()};localStorage.setItem("modelDropdownCache",JSON.stringify(t))}catch(e){}}),[]),_=(0,r.useCallback)(((e,t)=>{L((a=>({...a,categories:{...a.categories,[e]:t}})))}),[]),N=(0,r.useCallback)((e=>{L((t=>({...t,search:e})))}),[]),z=(0,r.useCallback)((e=>{(null==v?void 0:v.id)!==(null==e?void 0:e.id)&&b(e)}),[v,b]),D=(0,r.useCallback)((async()=>{S(!0),M(null);try{const e={Accept:"application/json"};!k&&h&&(e.Authorization=`Bearer ${h}`);const t=new URL("/api/models/classified",u).toString(),r=await fetch(t,{headers:e});if(k&&j(!1),!r.ok){let e=`Error fetching models: ${r.status}`;throw new Error(e)}const n=await r.json(),s=new Worker(new URL(a.p+a.u(2063),a.b),{type:void 0});s.postMessage(n),s.onmessage=e=>{let{data:t}=e;if(t.error)M(t.error);else{const{allModels:e,processedModels:a,experimentalModels:r}=t;p(e),f(a),y(r),F({allModels:e,processedModels:a,experimentalModels:r})}S(!1),s.terminate()},s.onerror=e=>{M(e.message),S(!1),s.terminate()}}catch(e){M(e.message||"Failed to load model data")}}),[u,F,h,k]);(0,r.useEffect)((()=>{D()}),[D]),(0,r.useEffect)((()=>{!v&&m.length>0&&b(m[0])}),[m,v]);const T=(0,r.useCallback)((()=>{E((e=>!e))}),[E]),q=(0,r.useMemo)((()=>({allModels:m,processedModels:g,experimentalModels:w,selectedModel:v,isLoading:x,error:C,showExperimental:I,isExperimentalModelsEnabled:I,toggleExperimentalModels:T,setShowExperimental:E,selectModel:z,refreshModels:D})),[m,g,w,v,x,C,I,T,E,z,D]),O=(0,r.useMemo)((()=>({modelFilter:A,updateCategoryFilter:_,updateSearchFilter:N})),[A,_,N]);return(0,o.jsx)(d.Provider,{value:q,children:(0,o.jsx)(c.Provider,{value:O,children:t})})}}}]);
//# sourceMappingURL=small-chunks-31743c5a.b728333a.js.map