"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([[3113],{5925:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var l=a(65043),t=a(96377),r=a(89499),i=a(70579);const c=(0,l.memo)((e=>{var s;let{model:a,selected:l,onClick:t,searchTerm:c}=e;const n=e=>{if(!c||!e)return e;const s=new RegExp(`(${c})`,"gi"),a=e.split(s);return(0,i.jsx)(i.Fragment,{children:a.map(((e,a)=>s.test(e)?(0,i.jsx)("span",{className:r.A.highlight,children:e},a):(0,i.jsx)("span",{children:e},a)))})};return(0,i.jsxs)("div",{className:`${r.A.modelItem} ${l?r.A.selected:""}`,onClick:()=>t(a),role:"option","aria-selected":l,children:[(0,i.jsx)("div",{className:r.A.modelIcon,children:(null===(s=a.series)||void 0===s?void 0:s.charAt(0))||a.name.charAt(0)}),(0,i.jsxs)("div",{className:r.A.modelDetails,children:[(0,i.jsx)("div",{className:r.A.modelName,children:n(a.name)}),a.description&&(0,i.jsx)("div",{className:r.A.modelDescription,children:n(a.description)}),a.tags&&a.tags.length>0&&(0,i.jsx)("div",{className:r.A.tags,children:a.tags.map((e=>(0,i.jsx)("span",{className:r.A.tag,style:{backgroundColor:c&&e.toLowerCase().includes(c.toLowerCase())?"rgba(var(--button-bg-rgb), 0.2)":void 0},children:n(e)},e)))})]}),l&&(0,i.jsx)("div",{className:r.A.selectedIndicator,"data-testid":"check-icon",children:(0,i.jsx)(o,{className:r.A.checkIcon})})]})})),o=e=>{let{className:s}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":"true",children:(0,i.jsx)("polyline",{points:"20 6 9 17 4 12"})})};c.displayName="ModelItem";const n=c;var d=a(94692),h=a(66651);const m=e=>{let{searchTerm:s,onSearchChange:a,resultCount:t}=e;const r=(0,l.useRef)(null),c=(0,l.useCallback)((e=>{e&&"object"==typeof e&&e.target&&a(e.target.value)}),[a]),o=(0,l.useCallback)((()=>{a(""),r.current&&r.current.focus()}),[a]);return(0,i.jsxs)("div",{className:h.A.searchContainer,children:[(0,i.jsxs)("div",{className:h.A.inputWrapper,children:[(0,i.jsx)(d.WIv,{className:h.A.searchIcon,size:16}),(0,i.jsx)("input",{ref:r,type:"text",className:h.A.searchInput,placeholder:"Search models...",value:s,onChange:c,"aria-label":"Search models"}),s&&(0,i.jsx)("button",{className:h.A.clearButton,onClick:o,"aria-label":"Clear search",children:(0,i.jsx)(d.uv5,{className:h.A.clearIcon,size:16})})]}),s&&(0,i.jsxs)("div",{className:h.A.results,children:[t," ",1===t?"result":"results"]})]})};var u=a(40255);const p=l.memo((e=>{let{selectedModel:s}=e;return(0,i.jsxs)("div",{className:u.A.selectedModelContainer,children:[(0,i.jsx)("div",{className:u.A.selectedModelLabel,children:"Current Model:"}),(0,i.jsxs)("div",{className:u.A.selectedModelInfo,children:[(0,i.jsx)("h3",{className:u.A.modelName,children:s?s.name:"No model selected"}),s&&(0,i.jsx)("p",{className:u.A.modelDescription,children:s.provider?`${s.provider} - ${s.type}`:"Model details unavailable"})]})]})})),v=l.memo((e=>{let{capabilities:s,activeCapability:a,onSelectCapability:t}=e;const r=(0,l.useRef)(null);return(0,l.useEffect)((()=>{if(r.current){const e=r.current.querySelector(`.${u.A.active}`);if(e){const s=r.current,a=s.offsetWidth,l=e.offsetWidth,t=e.offsetLeft-a/2+l/2;s.scrollTo({left:Math.max(0,t),behavior:"smooth"})}}}),[a]),(0,i.jsx)("div",{className:u.A.capabilityTabs,ref:r,children:Object.keys(s).map((e=>(0,i.jsxs)("button",{className:`${u.A.capabilityTab} ${a===e?u.A.active:""}`,onClick:()=>t(e),children:[e,(0,i.jsxs)("span",{children:[" (",s[e],")"]})]},e)))})})),C=l.memo((e=>{let{isLoading:s,groupedModels:a,selectedModel:l,onSelectModel:t,searchTerm:r,totalCount:c,activeCapability:o,onClearSearch:d}=e;return(0,i.jsx)("div",{className:u.A.modelList,role:"listbox",children:s?(0,i.jsx)("div",{className:u.A.loading,children:"Loading models..."}):a&&Object.keys(a).length>0?a.map((e=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:u.A.providerTypeHeader,children:[(0,i.jsx)("span",{className:u.A.providerName,children:e.provider}),(0,i.jsx)("span",{className:u.A.providerTypeSeparator,children:"â†’"}),(0,i.jsx)("span",{className:u.A.typeLabel,children:e.type}),(0,i.jsxs)("span",{className:u.A.modelCount,children:["(",e.models.length,")"]})]}),e.models.map((e=>(0,i.jsx)(n,{model:e,selected:(null==l?void 0:l.id)===e.id,onClick:t,searchTerm:r},e.id)))]},`${e.provider}-${e.type}`))):r&&0===c?(0,i.jsxs)("div",{className:u.A.noResults,children:['No models found matching "',r,'"',(0,i.jsx)("button",{className:u.A.clearSearch,onClick:d,children:"Clear search"})]}):(0,i.jsxs)("div",{className:u.A.noResults,children:["No ",o.toLowerCase()," models available"]})})})),x=l.memo((e=>{let{searchTerm:s,onSearchChange:a,totalCount:l}=e;return(0,i.jsx)("div",{className:u.A.searchContainer,children:(0,i.jsx)(m,{searchTerm:s,onSearchChange:a,resultCount:l})})})),j=l.forwardRef(((e,s)=>{let{isExperimentalModelsEnabled:a,toggleExperimentalModels:l,capabilitiesWithCounts:t,activeCapability:r,setActiveCapability:c,isLoading:o,groupedModels:n,selectedModel:d,handleSelectModel:h,searchTerm:m,totalCount:p,handleClearSearch:x}=e;return(0,i.jsxs)("div",{className:u.A.modelsContainer,ref:s,children:[(0,i.jsx)("div",{className:u.A.fixedHeader,children:(0,i.jsx)(v,{capabilities:t,activeCapability:r,onSelectCapability:c})}),(0,i.jsx)("div",{className:u.A.scrollableModelList,children:(0,i.jsx)(C,{isLoading:o,groupedModels:n,selectedModel:d,onSelectModel:h,searchTerm:m,totalCount:p,activeCapability:r,onClearSearch:x})})]})})),b=e=>e?e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ").replace(/ai/gi,"AI"):"",g=(e,s,a,l,t,r)=>{if(!e)return!1;if(a){var i,c;const s=a.toLowerCase(),o=(null===(i=e.name)||void 0===i?void 0:i.toLowerCase().includes(s))||(null===(c=e.displayName)||void 0===c?void 0:c.toLowerCase().includes(s)),n=(null==l?void 0:l.toLowerCase().includes(s))||(null==t?void 0:t.toLowerCase().includes(s)),d=null==r?void 0:r.toLowerCase().includes(s),h=e.tags&&e.tags.some((e=>null==e?void 0:e.toLowerCase().includes(s)));if(!(o||n||d||h))return!1}return!0},N=()=>{const{processedModels:e,selectedModel:s,isLoading:a,selectModel:r,showExperimental:c,toggleExperimentalModels:o}=(0,t.fn)(),{modelFilter:n,updateSearchFilter:d}=(0,t.N7)(),[h,m]=(0,l.useState)("Chat"),v=(0,l.useRef)(null),C=(0,l.useCallback)((e=>{r(e)}),[r]),N=(0,l.useCallback)((e=>{"string"==typeof e&&d(e)}),[d]),A=(0,l.useCallback)((()=>{d("")}),[d]),f=(0,l.useMemo)((()=>{const s={};return e&&Object.keys(e).forEach((a=>{s[a]=Object.values(e[a]).flatMap((e=>Object.values(e))).flat().filter((e=>g(e,0,n.search,e.provider,b(e.provider),e.type))).length})),s}),[e,c,n.search]),M=(0,l.useMemo)((()=>{if(!e||!e[h])return[];const s=e[h],a=[];return Object.entries(s).forEach((e=>{let[s,l]=e;const t=b(s);Object.entries(l).forEach((e=>{let[l,r]=e;const i=r.filter((e=>g(e,0,n.search,s,t,l)));i.length>0&&a.push({provider:t,type:l,models:i})}))})),a}),[e,h,c,n.search]),y=(0,l.useMemo)((()=>M.reduce(((e,s)=>e+s.models.length),0)),[M]);return(0,i.jsxs)("div",{className:u.A.modelSelectionContainer,children:[(0,i.jsx)(p,{selectedModel:s}),(0,i.jsx)(x,{searchTerm:n.search,onSearchChange:N,totalCount:y}),(0,i.jsx)(j,{ref:v,isExperimentalModelsEnabled:c,toggleExperimentalModels:o,capabilitiesWithCounts:f,activeCapability:h,setActiveCapability:m,isLoading:a,groupedModels:M,selectedModel:s,handleSelectModel:C,searchTerm:n.search,totalCount:y,handleClearSearch:A})]})}}}]);
//# sourceMappingURL=models-dropdown.26b94103.chunk.js.map