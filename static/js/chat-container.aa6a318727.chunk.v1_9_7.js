"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([["chat-container"],{30154:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(85908),r=n(89827),o=n(42379);const i={ChatContainer:"ChatContainer_ChatContainer__gDxxm",ChatContainer__modelButtonContainer:"ChatContainer_ChatContainer__modelButtonContainer__o2o-W",ChatContainer__chatArea:"ChatContainer_ChatContainer__chatArea__C9Gex",ChatContainer__scrollContainer:"ChatContainer_ChatContainer__scrollContainer__EsTiH",ChatContainer__scrollInner:"ChatContainer_ChatContainer__scrollInner__3Ilzr","ChatContainer--activeChat":"ChatContainer_ChatContainer--activeChat__KWxWx","ChatContainer--emptyChat":"ChatContainer_ChatContainer--emptyChat__mu5Tu",ChatContainer__emptyChatContent:"ChatContainer_ChatContainer__emptyChatContent__i4i2x",ChatContainer__greetingMessage:"ChatContainer_ChatContainer__greetingMessage__3EPdA",fadeIn:"ChatContainer_fadeIn__P3lvT",ChatContainer__inputArea:"ChatContainer_ChatContainer__inputArea__wXHhL",ChatContainer__staticInputArea:"ChatContainer_ChatContainer__staticInputArea__kEJZC",ChatContainer__fixedInputArea:"ChatContainer_ChatContainer__fixedInputArea__nCo+i",ChatContainer__inputControlsWrapper:"ChatContainer_ChatContainer__inputControlsWrapper__eRfOZ",ChatContainer__placeholder:"ChatContainer_ChatContainer__placeholder__WXOtd",shimmer:"ChatContainer_shimmer__Ysx8D",ChatContainer__messagePlaceholder:"ChatContainer_ChatContainer__messagePlaceholder__zmYEv",ChatContainer__metricsPlaceholder:"ChatContainer_ChatContainer__metricsPlaceholder__1ldeo",ChatContainer__inputPlaceholder:"ChatContainer_ChatContainer__inputPlaceholder__gHNou",ChatContainer__chatAreaWrapper:"ChatContainer_ChatContainer__chatAreaWrapper__eJWuZ",ChatContainer__scrollToBottomButton:"ChatContainer_ChatContainer__scrollToBottomButton__hUqoT","ChatContainer--editingMode":"ChatContainer_ChatContainer--editingMode__UWJFO"};var l=n(17696),C=n.n(l),s=n(44440);const h=(0,a.RZ)((()=>Promise.all([n.e("worker-bundle"),n.e("styles-e96e9bea"),n.e("styles-31743c5a"),n.e("app-large-4f064d56"),n.e("app-large-31743c5a"),n.e("common")]).then(n.bind(n,70622)))),c=(0,a.RZ)((()=>Promise.all([n.e("styles-e96e9bea"),n.e("styles-31743c5a"),n.e("vendor-bundle-49d0a293"),n.e("vendor-bundle-91c40cd8"),n.e("vendor-bundle-5a94f17d"),n.e("vendor-bundle-876a8ab6"),n.e("vendor-bundle-d3e56ce9"),n.e("chat-input")]).then(n.bind(n,5930)))),_=(0,a.RZ)((()=>Promise.all([n.e("styles-e96e9bea"),n.e("styles-31743c5a"),n.e("common")]).then(n.bind(n,8436)))),d=(0,a.RZ)((()=>Promise.all([n.e("styles-e96e9bea"),n.e("styles-31743c5a"),n.e("model-selector-button")]).then(n.bind(n,76469)))),u=(0,a.ph)((e=>{let{selectedModel:t,isLoadingModels:n,toggleModelSelector:l,onToggleSettings:u,isSidebarOpen:m,isSettingsOpen:p,isModelSelectorOpen:v}=e;const{chatHistory:g,isWaitingForResponse:b,error:f,metrics:Y,selectedModel:y,handleSendMessage:A}=(0,r.e)(),[N,M]=(0,a.J0)(null),I=(0,a.li)(null),P=(0,a.li)(null),S=(0,a.li)(null),x=g.length>0,[T,W]=(0,a.J0)(!1),k=(0,a.li)(b),E=(0,a.hb)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";P.current&&(P.current.scrollTo({top:P.current.scrollHeight,behavior:e}),W(!1))}),[]),J=(0,a.hb)((()=>{const e=P.current;if(!e)return;const t=e.scrollHeight-e.scrollTop-e.clientHeight<10;W(!t)}),[]),B=(0,a.Kr)((()=>C()(J,100)),[J]),$=(0,a.hb)((()=>{setTimeout((()=>{const e=document.querySelector("textarea."+i.chatInput)||document.querySelector('textarea[aria-label="Chat message input"]');e&&e.focus()}),100)}),[]);(0,a.vJ)((()=>{$()}),[$]),(0,a.vJ)((()=>{k.current&&!b&&!(m||p||v||N)&&$(),k.current=b}),[b,m,p,v,N,$]),(0,a.vJ)((()=>{const e=P.current;if(e)return B(),e.addEventListener("scroll",B,{passive:!0}),()=>{e.removeEventListener("scroll",B),B.cancel()}}),[B]),(0,a.vJ)((()=>{const e=P.current;if(!e)return;const t=()=>{const t=e.scrollHeight-e.scrollTop-e.clientHeight<10;W(!t)};return t(),e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)}),[T]),(0,a.vJ)((()=>{const e=setTimeout((()=>B()),100);return()=>clearTimeout(e)}),[g,B]);const D=null==t?void 0:t.name,F=null==t?void 0:t.provider,H=(0,a.hb)((e=>{M(e),setTimeout((()=>{document.querySelector(`.${i.ChatContainer__fixedInputArea}`)}),100)}),[M]),w=(0,a.hb)((()=>{M(null)}),[]),L=`${i.ChatContainer} ${x?i["ChatContainer--activeChat"]:i["ChatContainer--emptyChat"]} ${N?i["ChatContainer--editingMode"]:""}`,R=e=>{const t=!x;return(0,s.FD)(s.FK,{children:[e&&!N&&(0,s.Y)(a.tY,{fallback:(0,s.Y)("div",{className:i.globalMetricsPlaceholder}),children:(0,s.Y)(_,{metrics:null==Y?void 0:Y.session,modelName:null==y?void 0:y.name})}),(0,s.Y)("div",{className:i.ChatContainer__inputControlsWrapper,children:(0,s.Y)(a.tY,{fallback:(0,s.Y)("div",{className:i.ChatContainer__inputPlaceholder}),children:(0,s.Y)(c,{isInitialChat:t,onSendMessage:A,selectedModel:y,editingMessage:N,onCancelEdit:w,isStreaming:b,toggleModelSelector:l,onFocus:$})})})]})};return(0,a.vJ)((()=>{if(!g.length)return;const e=S.current;if(!e)return;const t=()=>{const t=e.querySelector(`.${i.ChatContainer__fixedInputArea}`);if(t){const n=t.getBoundingClientRect().height;e.style.setProperty("--input-height",`${n}px`)}};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[g]),(0,s.FD)("div",{ref:S,className:L,children:[(0,s.Y)("div",{className:i.ChatContainer__modelButtonContainer,children:(0,s.Y)(a.tY,{fallback:null,children:(0,s.Y)(d,{selectedModelName:D,providerName:F,onClick:l,disabled:n})})}),(0,s.FD)("div",{className:i.ChatContainer__chatAreaWrapper,children:[(0,s.Y)("div",{className:i.ChatContainer__chatArea,children:x?(0,s.Y)("div",{className:i.ChatContainer__scrollContainer,ref:P,children:(0,s.Y)("div",{className:i.ChatContainer__scrollInner,children:(0,s.Y)(a.tY,{fallback:(0,s.Y)("div",{className:i.messagePlaceholder}),children:(0,s.Y)(h,{ref:I,messages:g,error:f,onEditMessage:H})})})}):(0,s.FD)("div",{className:i.ChatContainer__emptyChatContent,children:[(0,s.FD)("div",{className:i.ChatContainer__greetingMessage,children:[(0,s.Y)("h2",{children:"Welcome to AI Chat!"}),(0,s.Y)("p",{children:"Select a model above and start your conversation."})]}),(0,s.Y)("div",{className:`${i.ChatContainer__inputArea} ${i.ChatContainer__staticInputArea}`,children:R(!1)})]})}),T&&x&&(0,s.Y)("button",{className:i.ChatContainer__scrollToBottomButton,onClick:()=>E("smooth"),"aria-label":"Scroll to bottom",title:"Scroll to bottom",children:(0,s.Y)(o.D3D,{size:20})})]}),x&&(0,s.Y)("div",{className:`${i.ChatContainer__inputArea} ${i.ChatContainer__fixedInputArea}`,children:R(!0)})]})}));u.displayName="ChatContainer";const m=u}}]);
//# sourceMappingURL=chat-container.aa6a318727.chunk.v1_9_7.js.map