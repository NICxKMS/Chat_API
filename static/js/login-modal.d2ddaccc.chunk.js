"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([[7314],{5532:(e,i,a)=>{a.r(i),a.d(i,{default:()=>u});var s=a(65043),t=a(35016),n=a(50423),l=a(96058),o=a(60184),r=a(83717),c=a(62224),d=a(70579);const u=e=>{let{onClose:i}=e;const{setIsLoggingIn:u,error:h}=(0,t.A)(),[p,m]=(0,s.useState)(!1),[g,b]=(0,s.useState)(null),[w,A]=(0,s.useState)(""),[x,j]=(0,s.useState)("");(0,s.useEffect)((()=>{h&&b(h)}),[h]);const v=async e=>{const{getFirebaseAuth:s}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(8507)]).then(a.bind(a,91729)),{signInWithPopup:t}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),n=s();if(n){m(!0),b(null);try{await t(n,e)}catch(e){"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code?(u(!1),i&&i()):"auth/popup-blocked"===e.code?(b("Popup blocked by browser. Please allow popups for this site."),m(!1)):(b(e.message||"Failed to sign in. Please try again."),m(!1))}}else b("Firebase not initialized. Cannot sign in.")},f=()=>{p||(u(!1),i&&i())};return(0,d.jsx)("div",{className:c.A.overlay,onClick:f,children:(0,d.jsxs)("div",{className:c.A.modal,onClick:e=>e.stopPropagation(),children:[(0,d.jsx)("button",{className:c.A.closeButton,onClick:f,"aria-label":"Close login",children:(0,d.jsx)(n.WQq,{})}),(0,d.jsx)("h2",{className:c.A.title,children:"Login / Sign Up"}),(0,d.jsx)("p",{className:c.A.subtitle,children:"Choose a provider to continue"}),p&&(0,d.jsxs)("div",{className:`${c.A.spinnerContainer} ${c.A.fullHeightSpinner}`,children:[" ",(0,d.jsx)(r.default,{size:"large"}),(0,d.jsx)("p",{children:"Connecting..."})]}),!p&&(0,d.jsxs)("form",{className:c.A.emailForm,onSubmit:async e=>{e.preventDefault();const{getFirebaseAuth:i}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(8507)]).then(a.bind(a,91729)),{signInWithEmailAndPassword:s}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),t=i();if(t)if(w&&x){m(!0),b(null);try{await s(t,w,x)}catch(e){b(e.message||"Failed to sign in with email."),m(!1)}}else b("Please enter both email and password.");else b("Firebase not initialized.")},children:[" ",(0,d.jsx)("input",{type:"email",placeholder:"Email Address",value:w,onChange:e=>A(e.target.value),required:!0,className:c.A.inputField}),(0,d.jsx)("input",{type:"password",placeholder:"Password",value:x,onChange:e=>j(e.target.value),required:!0,className:c.A.inputField}),(0,d.jsxs)("div",{className:c.A.emailButtonContainer,children:[(0,d.jsx)("button",{type:"submit",className:c.A.emailButton,disabled:p,children:"Sign In"}),(0,d.jsx)("button",{type:"button",onClick:async e=>{e.preventDefault();const{getFirebaseAuth:i}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(8507)]).then(a.bind(a,91729)),{createUserWithEmailAndPassword:s}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),t=i();if(t)if(w&&x){m(!0),b(null);try{await s(t,w,x)}catch(e){b(e.message||"Failed to sign up with email."),m(!1)}}else b("Please enter both email and password.");else b("Firebase not initialized.")},className:`${c.A.emailButton} ${c.A.signUpButton}`,disabled:p,children:"Sign Up"})]})]}),!p&&(0,d.jsxs)("div",{className:c.A.alternativeLoginContainer,children:[(0,d.jsx)("p",{className:c.A.alternativeLoginText,children:"Or sign in with"}),(0,d.jsxs)("div",{className:c.A.providerIconContainer,children:[(0,d.jsx)("button",{className:c.A.providerIconButton,onClick:async()=>{const{GoogleAuthProvider:e}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),i=new e;v(i)},disabled:p,title:"Sign in with Google","aria-label":"Sign in with Google",children:(0,d.jsx)(l.F4b,{})}),(0,d.jsx)("button",{className:c.A.providerIconButton,onClick:async()=>{const{GithubAuthProvider:e}=await Promise.all([a.e(3424),a.e(5171),a.e(4698),a.e(2702),a.e(8986),a.e(3815),a.e(2991)]).then(a.bind(a,94135)),i=new e;v(i)},disabled:p,title:"Sign in with GitHub","aria-label":"Sign in with GitHub",children:(0,d.jsx)(o.hL4,{})})]})]}),g&&(0,d.jsx)("p",{className:c.A.error,children:g}),(0,d.jsx)("p",{className:c.A.footerText,children:"By signing in, you agree to our imaginary Terms of Service."})]})})}}}]);
//# sourceMappingURL=login-modal.d2ddaccc.chunk.js.map