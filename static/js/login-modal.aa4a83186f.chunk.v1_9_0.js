"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([["login-modal"],{5532:(e,a,i)=>{i.r(a),i.d(a,{default:()=>c});var n=i(17906),d=i(35016),o=i(50423),r=i(96058),s=i(60184),l=i(83717),t=i(62224),b=i(63121);const c=e=>{let{onClose:a}=e;const{setIsLoggingIn:c,error:f}=(0,d.A)(),[h,g]=(0,n.J0)(!1),[u,m]=(0,n.J0)(null),[p,v]=(0,n.J0)(""),[_,w]=(0,n.J0)("");(0,n.vJ)((()=>{f&&m(f)}),[f]);const A=async e=>{const{getFirebaseAuth:n}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-a456dcbb"),i.e("vendor.firebase-15d6dbba"),i.e("vendor.firebase-1b4271fd"),i.e("vendor.firebase-608eddd6"),i.e("firebase-config")]).then(i.bind(i,91729)),{signInWithPopup:d}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-a456dcbb"),i.e("vendor.firebase-15d6dbba"),i.e("vendor.firebase-1b4271fd"),i.e("vendor.firebase-608eddd6"),i.e("firebase-auth")]).then(i.bind(i,94135)),o=n();if(o){g(!0),m(null);try{await d(o,e)}catch(e){"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code?(c(!1),a&&a()):"auth/popup-blocked"===e.code?(m("Popup blocked by browser. Please allow popups for this site."),g(!1)):(m(e.message||"Failed to sign in. Please try again."),g(!1))}}else m("Firebase not initialized. Cannot sign in.")},L=()=>{h||(c(!1),a&&a())};return(0,b.Y)("div",{className:t.A.LoginModal,onClick:L,children:(0,b.FD)("div",{className:t.A.LoginModal__modal,onClick:e=>e.stopPropagation(),children:[(0,b.Y)("button",{className:t.A.LoginModal__closeButton,onClick:L,"aria-label":"Close login",children:(0,b.Y)(o.WQq,{})}),(0,b.Y)("h2",{className:t.A.LoginModal__title,children:"Login / Sign Up"}),(0,b.Y)("p",{className:t.A.LoginModal__subtitle,children:"Choose a provider to continue"}),h&&(0,b.FD)("div",{className:t.A.LoginModal__spinnerContainer,children:[" ",(0,b.Y)(l.default,{size:"large"}),(0,b.Y)("p",{children:"Connecting..."})]}),!h&&(0,b.FD)("form",{className:t.A.LoginModal__emailForm,onSubmit:async e=>{e.preventDefault();const{getFirebaseAuth:a}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-a456dcbb"),i.e("vendor.firebase-15d6dbba"),i.e("vendor.firebase-1b4271fd"),i.e("vendor.firebase-608eddd6"),i.e("firebase-config")]).then(i.bind(i,91729)),{signInWithEmailAndPassword:n}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-a456dcbb"),i.e("vendor.firebase-15d6dbba"),i.e("vendor.firebase-1b4271fd"),i.e("vendor.firebase-608eddd6"),i.e("firebase-auth")]).then(i.bind(i,94135)),d=a();if(d)if(p&&_){g(!0),m(null);try{await n(d,p,_)}catch(e){m(e.message||"Failed to sign in with email."),g(!1)}}else m("Please enter both email and password.");else m("Firebase not initialized.")},children:[" ",(0,b.Y)("input",{type:"email",placeholder:"Email Address",value:p,onChange:e=>v(e.target.value),required:!0,className:t.A.LoginModal__inputField}),(0,b.Y)("input",{type:"password",placeholder:"Password",value:_,onChange:e=>w(e.target.value),required:!0,className:t.A.LoginModal__inputField}),(0,b.FD)("div",{className:t.A.LoginModal__emailButtonContainer,children:[(0,b.Y)("button",{type:"submit",className:t.A.LoginModal__emailButton,disabled:h,children:"Sign In"}),(0,b.Y)("button",{type:"button",onClick:async e=>{e.preventDefault();const{getFirebaseAuth:a}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-a456dcbb"),i.e("vendor.firebase-15d6dbba"),i.e("vendor.firebase-1b4271fd"),i.e("vendor.firebase-608eddd6"),i.e("firebase-config")]).then(i.bind(i,91729)),{createUserWithEmailAndPassword:n}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-a456dcbb"),i.e("vendor.firebase-15d6dbba"),i.e("vendor.firebase-1b4271fd"),i.e("vendor.firebase-608eddd6"),i.e("firebase-auth")]).then(i.bind(i,94135)),d=a();if(d)if(p&&_){g(!0),m(null);try{await n(d,p,_)}catch(e){m(e.message||"Failed to sign up with email."),g(!1)}}else m("Please enter both email and password.");else m("Firebase not initialized.")},className:`${t.A.LoginModal__emailButton} ${t.A.LoginModal__signUpButton}`,disabled:h,children:"Sign Up"})]})]}),!h&&(0,b.FD)("div",{className:t.A.LoginModal__alternativeLoginContainer,children:[(0,b.Y)("p",{className:t.A.LoginModal__alternativeLoginText,children:"Or sign in with"}),(0,b.FD)("div",{className:t.A.LoginModal__providerIconContainer,children:[(0,b.Y)("button",{className:t.A.LoginModal__providerIconButton,onClick:async()=>{const{GoogleAuthProvider:e}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-a456dcbb"),i.e("vendor.firebase-15d6dbba"),i.e("vendor.firebase-1b4271fd"),i.e("vendor.firebase-608eddd6"),i.e("firebase-auth")]).then(i.bind(i,94135)),a=new e;A(a)},disabled:h,title:"Sign in with Google","aria-label":"Sign in with Google",children:(0,b.Y)(r.F4b,{})}),(0,b.Y)("button",{className:t.A.LoginModal__providerIconButton,onClick:async()=>{const{GithubAuthProvider:e}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-a456dcbb"),i.e("vendor.firebase-15d6dbba"),i.e("vendor.firebase-1b4271fd"),i.e("vendor.firebase-608eddd6"),i.e("firebase-auth")]).then(i.bind(i,94135)),a=new e;A(a)},disabled:h,title:"Sign in with GitHub","aria-label":"Sign in with GitHub",children:(0,b.Y)(s.hL4,{})})]})]}),u&&(0,b.Y)("p",{className:t.A.LoginModal__error,children:u}),(0,b.Y)("p",{className:t.A.LoginModal__footerText,children:"By signing in, you agree to our imaginary Terms of Service."})]})})}}}]);
//# sourceMappingURL=login-modal.aa4a83186f.chunk.v1_9_0.js.map