"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([[5391],{14039:(e,s,n)=>{n.r(s),n.d(s,{default:()=>A});var t=n(65043),a=n(66519),l=n(23708),r=n(48607),i=n(94692),o=n(30591),c=n(12807),m=n(70579);const d=(0,t.lazy)((()=>Promise.all([n.e(8643),n.e(3215),n.e(648),n.e(8451),n.e(2412),n.e(4314),n.e(208),n.e(6017),n.e(399),n.e(4917),n.e(7777),n.e(7316),n.e(3294),n.e(5419),n.e(4734),n.e(6755),n.e(4182),n.e(4582),n.e(8162),n.e(6760),n.e(1217),n.e(822),n.e(4335),n.e(6814),n.e(2489),n.e(9734),n.e(5522),n.e(5080),n.e(1927),n.e(9283),n.e(8476),n.e(5816),n.e(4120),n.e(7295),n.e(237),n.e(9104),n.e(2993),n.e(9889),n.e(392),n.e(7514),n.e(6347),n.e(7362),n.e(801),n.e(9939),n.e(6670),n.e(7934),n.e(2084),n.e(7510),n.e(8482),n.e(5418),n.e(268),n.e(6060),n.e(610),n.e(6716),n.e(8990),n.e(912),n.e(8417),n.e(6056),n.e(5893),n.e(4552),n.e(8513),n.e(5391),n.e(5417),n.e(6986),n.e(6299),n.e(680),n.e(1926),n.e(5911),n.e(7457),n.e(5403),n.e(5433),n.e(5398),n.e(1119),n.e(1802),n.e(8042),n.e(1231),n.e(9579)]).then(n.bind(n,74759)))),u=e=>e?e<1e3?`${e}ms`:`${(e/1e3).toFixed(1)}s`:"0.0s",x=e=>{let{message:s,isStreaming:n,onEditMessage:a}=e;const[l,x]=(0,t.useState)(!1),h=(0,t.useMemo)((()=>{switch(s.role){case"user":return(0,m.jsx)(i.nXn,{size:16,className:o.A.icon});case"assistant":return(0,m.jsx)(i.MiJ,{size:16,className:o.A.icon});case"system":return(0,m.jsx)(i.L64,{size:16,className:o.A.icon});case"error":return(0,m.jsx)(i._0O,{size:16,className:o.A.icon});default:return null}}),[s.role]),j=(0,t.useMemo)((()=>{switch(s.role){case"user":return o.A.userMessage;case"assistant":return o.A.assistantMessage;case"system":return o.A.systemMessage;case"error":return o.A.errorMessage;default:return""}}),[s.role]),g=(0,t.useMemo)((()=>!("assistant"!==s.role||!s.metrics)),[s.role,s.metrics]),p=(0,m.jsx)("button",{className:`${o.A.copyMessageButton} ${"assistant"===s.role&&g?o.A.copyButtonInMetrics:o.A.copyButtonBottomRight}`,onClick:()=>{const e="string"==typeof s.content?s.content:Array.isArray(s.content)?s.content.filter((e=>"text"===e.type)).map((e=>e.text)).join("\n"):"";navigator.clipboard.writeText(e).then((()=>{x(!0),setTimeout((()=>x(!1)),2e3)}))},"aria-label":"Copy message",title:"Copy message",children:l?(0,m.jsx)(i.Srz,{size:16}):(0,m.jsx)(i.TdU,{size:16})}),v="user"===s.role?(0,m.jsx)("button",{className:o.A.editMessageButton,onClick:()=>a&&a(s),"aria-label":"Edit message",title:"Edit message",children:(0,m.jsx)(i.R2l,{size:16})}):null;return(0,m.jsxs)("div",{className:o.A.message+" "+j,children:[(0,m.jsx)("div",{className:o.A.avatar,children:h}),(0,m.jsxs)("div",{className:o.A.messageContentWrapper,children:[(0,m.jsx)("div",{className:o.A.messageContent,children:"assistant"===s.role?(0,m.jsx)(d,{content:s.content,isStreaming:n}):(e=>{const s="string"==typeof e?(0,c.rP)(e):e;return(0,m.jsx)(t.Suspense,{fallback:null,children:(0,m.jsx)(r.A,{children:s})})})(s.content||"")}),"assistant"===s.role&&(()=>{if(!g||!s.metrics)return null;const e=n,{elapsedTime:t,tokenCount:a,tokensPerSecond:l,timeToFirstToken:r,promptTokens:c,completionTokens:d,totalTokens:x,finishReason:h}=s.metrics;return null!=t||null!=a||null!=l||null!=r||null!=c||null!=d||null!=x||null!=h?(0,m.jsxs)("div",{className:o.A.metricsContainer,children:[null!=r&&0!==r&&(0,m.jsxs)("span",{className:o.A.metric,children:[(0,m.jsx)(i.O4,{size:14,className:o.A.metricIcon}),"First Token: ",u(r)]}),null!=t&&0!==t&&(0,m.jsxs)("span",{className:o.A.metric,children:[(0,m.jsx)(i.O4,{size:14,className:o.A.metricIcon}),"Total Time: ",u(t)]}),null!=a&&0!==a&&(0,m.jsxs)("span",{className:o.A.metric,children:[(0,m.jsx)(i.MiJ,{size:14,className:o.A.metricIcon}),"Tokens: ",a]}),null!=c&&0!==c&&(0,m.jsxs)("span",{className:o.A.metric,children:[(0,m.jsx)(i.MiJ,{size:14,className:o.A.metricIcon}),"Prompt: ",c]}),null!=d&&0!==d&&(0,m.jsxs)("span",{className:o.A.metric,children:[(0,m.jsx)(i.MiJ,{size:14,className:o.A.metricIcon}),"Completion: ",d]}),null!=x&&0!==x&&(0,m.jsxs)("span",{className:o.A.metric,children:[(0,m.jsx)(i.MiJ,{size:14,className:o.A.metricIcon}),"Total: ",x]}),null!=l&&0!==l&&(0,m.jsxs)("span",{className:o.A.metric,children:[(0,m.jsx)(i.BHx,{size:14,className:o.A.metricIcon}),"Speed: ",l," t/s"]}),null!=h&&""!==h&&(0,m.jsxs)("span",{className:o.A.metric,children:[(0,m.jsx)(i._0O,{size:14,className:o.A.metricIcon}),h]}),e&&(0,m.jsxs)("span",{className:`${o.A.metric} ${o.A.generatingIndicator}`,children:[(0,m.jsx)("span",{className:o.A.generatingDot}),"Generating..."]}),p]}):null})(),"user"!==s.role&&("assistant"!==s.role||!g)&&p]}),"user"===s.role&&(0,m.jsxs)("div",{className:o.A.userButtonContainer,children:[v,p]})]})},h=(0,t.memo)(x);var j=n(97950),g=n(20104);const p=e=>{let{src:s,onClose:n}=e;if(!s)return null;const t=(0,m.jsx)("div",{className:g.A.overlay,onClick:n,role:"dialog","aria-modal":"true",title:"Click to close image",children:(0,m.jsx)("img",{src:s,alt:"Full screen view",className:g.A.overlayImage,onClick:e=>{e.stopPropagation()}})});return j.createPortal(t,document.body)},v=(0,t.forwardRef)(((e,s)=>{let{messages:n,error:r,onEditMessage:i}=e;const{isWaitingForResponse:o}=(0,l.Y_)(),[c,d]=(0,t.useState)(null),u=(0,t.useMemo)((()=>{const e=[...n];return r&&e.push({role:"error",content:r,timestamp:Date.now()}),e}),[n,r]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:a.A.messageListContainer,ref:s,"aria-live":"polite","aria-relevant":"additions text",children:u.map(((e,s)=>{var n;const t=s===u.length-1,l="assistant"===e.role&&t&&o&&!(null!==(n=e.metrics)&&void 0!==n&&n.isComplete),{images:r,text:c}=(e=>{if(!e)return{images:[],text:e};if(Array.isArray(e)){const s=[],n=[];return e.forEach((e=>{"image_url"===e.type&&s.push({url:e.image_url.url,alt:e.image_url.alt||e.alt||null}),"text"===e.type&&n.push(e.text)})),{images:s,text:n.join(" ")}}return{images:[],text:e}})(e.content),x=e.timestamp?`${e.role}-${e.timestamp}-${s}`:`${e.role}-${s}`;return(0,m.jsxs)("div",{className:a.A.messageRow,children:["user"===e.role&&r.length>0&&(0,m.jsx)("div",{className:a.A.imageContainer,children:r.map(((e,s)=>(0,m.jsx)("img",{src:e.url,alt:e.alt||`Uploaded image ${s+1}`,className:a.A.messageImage,onClick:()=>{return s=e.url,void d(s);var s},style:{cursor:"pointer"}},`${x}-img-${s}`)))}),(c||"user"!==e.role)&&(0,m.jsx)(h,{message:{...e,content:c||e.content},isStreaming:l,onEditMessage:"user"===e.role?i:void 0})]},x)}))}),(0,m.jsx)(p,{src:c,onClose:()=>{d(null)}})]})}));v.displayName="MessageList";const A=(0,t.memo)(v)},48607:(e,s,n)=>{n.d(s,{A:()=>l});var t=n(65043),a=n(70579);function l(e){let{children:s,components:l={}}=e;const[r,i]=(0,t.useState)(null);if((0,t.useEffect)((()=>{let e=!1;return Promise.all([Promise.all([n.e(8643),n.e(3215),n.e(648),n.e(8451),n.e(6347),n.e(7362),n.e(801),n.e(9939),n.e(6670),n.e(7934),n.e(2084),n.e(7510),n.e(268),n.e(6060),n.e(610),n.e(8467),n.e(838),n.e(912),n.e(8417),n.e(6056),n.e(5893),n.e(4552),n.e(8513),n.e(5391),n.e(5417),n.e(6986),n.e(6299),n.e(680)]).then(n.bind(n,99750)),Promise.all([n.e(8643),n.e(3215),n.e(648),n.e(8451),n.e(5419),n.e(3542),n.e(9937),n.e(4644),n.e(6376),n.e(8683),n.e(912),n.e(8417),n.e(6056),n.e(5893),n.e(4552),n.e(8513),n.e(5391),n.e(5417),n.e(6986),n.e(6299),n.e(680),n.e(4688)]).then(n.bind(n,20364)),Promise.all([n.e(8643),n.e(3215),n.e(648),n.e(8451),n.e(8482),n.e(5418),n.e(1700),n.e(912),n.e(8417),n.e(6056),n.e(5893),n.e(4552),n.e(8513),n.e(5391),n.e(5417),n.e(6986),n.e(6299),n.e(680),n.e(9686)]).then(n.bind(n,86050)),Promise.all([n.e(8643),n.e(3215),n.e(648),n.e(8451),n.e(5419),n.e(4899),n.e(912),n.e(8417),n.e(6056),n.e(5893),n.e(4552),n.e(8513),n.e(5391),n.e(5417),n.e(6986),n.e(6299),n.e(680)]).then(n.bind(n,14130)),Promise.all([n.e(4314),n.e(208),n.e(6716),n.e(8990),n.e(9544),n.e(912),n.e(8417),n.e(6056),n.e(5893),n.e(4552),n.e(8513),n.e(5391),n.e(5417),n.e(6986),n.e(6299),n.e(680),n.e(3064)]).then(n.bind(n,39316))]).then((s=>{let[t,a,l,r,o]=s;e||(Promise.all([n.e(4314),n.e(208)]).then(n.bind(n,70119)),i({Markdown:t.default,remarkPlugins:[a.default,l.default,r.default],rehypePlugins:[o.default]}))})).catch((e=>{})),()=>{e=!0}}),[]),!r)return null;const{Markdown:o,remarkPlugins:c,rehypePlugins:m}=r;return(0,a.jsx)(t.Suspense,{fallback:null,children:(0,a.jsx)(o,{remarkPlugins:c,rehypePlugins:m,components:l,skipHtml:!1,children:s})})}},62813:(e,s,n)=>{n.r(s),n.d(s,{default:()=>m});var t=n(65043),a=n(13005),l=n(63692),r=n(70579);const i=(0,t.memo)((()=>{const{theme:e,toggleTheme:s}=(0,a.D)();return(0,r.jsx)("button",{className:l.A.themeToggle,onClick:s,"aria-label":`Switch to ${"dark"===e?"light":"dark"} mode`,title:`Switch to ${"dark"===e?"light":"dark"} mode`,children:"dark"===e?(0,r.jsx)(o,{className:l.A.icon}):(0,r.jsx)(c,{className:l.A.icon})})})),o=e=>{let{className:s}=e;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":"true",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,r.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,r.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,r.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,r.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,r.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,r.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,r.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,r.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})},c=e=>{let{className:s}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":"true",children:(0,r.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})};i.displayName="ThemeToggle";const m=9121==n.j?i:null},74759:(e,s,n)=>{n.r(s),n.d(s,{default:()=>v});var t=n(65043);if(9121==n.j)var a=n(14376);if(9121==n.j)var l=n(14346);var r=n(30591);if(9121==n.j)var i=n(10801);if(9121==n.j)var o=n(52196);if(9121==n.j)var c=n(13005);if(9121==n.j)var m=n(20364);var d=n(86050);if(9121==n.j)var u=n(14130);if(9121==n.j)var x=n(53552);n(70119);if(9121==n.j)var h=n(12807);var j=n(70579);const g=()=>(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"14",height:"14",children:[(0,j.jsx)("path",{fillRule:"evenodd",d:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"}),(0,j.jsx)("path",{fillRule:"evenodd",d:"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"})]}),p=()=>(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"14",height:"14",children:(0,j.jsx)("path",{fillRule:"evenodd",d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"})}),v=9121==n.j?e=>{let{content:s,isStreaming:n}=e;const{isDark:v}=(0,c.D)(),[A,N]=(0,t.useState)({}),f=v?i.default:o.default,k=(0,t.useCallback)(((e,s)=>{navigator.clipboard.writeText(e).then((()=>{N((e=>({...e,[s]:!0}))),setTimeout((()=>{N((e=>({...e,[s]:!1})))}),2e3)}))}),[]),y=(0,t.useCallback)((e=>{var s,n,t;let{node:a,inline:i,className:o,children:c,...m}=e;const d=/language-(\w+)/.exec(o||""),u=d?d[1]:"plaintext",x=String(c).replace(/\n$/,""),h=null!==(s=null==a||null===(n=a.position)||void 0===n||null===(t=n.start)||void 0===t?void 0:t.offset)&&void 0!==s?s:x.substring(0,20),v=A[h];return i?(0,j.jsx)("code",{className:`${r.A.inlineCode} ${o||""}`,...m,children:c}):(0,j.jsxs)("div",{className:r.A.codeBlockContainer,children:[(0,j.jsxs)("div",{className:r.A.codeHeader,children:[(0,j.jsx)("span",{className:r.A.language,children:u}),(0,j.jsx)("button",{className:r.A.copyButton,onClick:()=>k(x,h),disabled:v,children:v?(0,j.jsxs)(j.Fragment,{children:[" ",(0,j.jsx)(p,{})," Copied! "]}):(0,j.jsxs)(j.Fragment,{children:[" ",(0,j.jsx)(g,{})," Copy "]})})]}),(0,j.jsx)(l.default,{style:f,language:u,PreTag:"div",className:r.A.pre,wrapLines:!0,...m,children:x})]})}),[f,k,A]),C=(0,t.useMemo)((()=>({code:y})),[y]),w=`${r.A.markdown} ${r.A.streamingContent} ${n?r.A.streaming:""}`,b="string"==typeof s?s:String(s||""),M=b?(0,h.rP)(b):"â€‹";return(0,j.jsx)("div",{className:w,children:(0,j.jsx)(a.$,{remarkPlugins:[m.default,d.default,u.default],rehypePlugins:[x.A],components:C,children:M})})}:null},83717:(e,s,n)=>{n.r(s),n.d(s,{default:()=>r});var t=n(65043),a=n(23232),l=n(70579);const r=9121==n.j?t.memo((e=>{let{size:s="medium",color:n}=e;const t=a.A[s]||a.A.medium,r=n?{borderTopColor:n}:{};return(0,l.jsx)("div",{className:`${a.A.spinnerContainer} ${t}`,children:(0,l.jsx)("div",{className:a.A.spinner,style:r,"aria-label":"Loading",role:"status"})})})):null},92932:(e,s,n)=>{n.r(s),n.d(s,{default:()=>l});var t=n(63047),a=n(70579);const l=9121==n.j?e=>{var s;let{metrics:n=null,modelName:l=null}=e;if(!n)return null;const r=n.totalMessages||0,i=(null===(s=n.avgResponseTime)||void 0===s?void 0:s.toFixed(2))||"N/A",o=n.totalTokens||0;return(0,a.jsxs)("div",{className:t.A.metricsBar,children:[l&&(0,a.jsxs)("span",{className:t.A.metricItem,title:"Current Model",children:["ðŸ§  ",l]}),(0,a.jsxs)("span",{className:t.A.metricItem,title:"Total Messages in Session",children:["ðŸ’¬ ",r]}),(0,a.jsxs)("span",{className:t.A.metricItem,title:"Average Response Time (seconds)",children:["â±ï¸ ",i,"s"]}),(0,a.jsxs)("span",{className:t.A.metricItem,title:"Total Tokens Used in Session",children:["#ï¸âƒ£ ",o]})]})}:null},96960:(e,s,n)=>{n.r(s),n.d(s,{default:()=>i});var t=n(65043);if(9121==n.j)var a=n(94692);var l=n(3628),r=n(70579);const i=9121==n.j?e=>{let{actions:s=[]}=e;const[n,i]=(0,t.useState)(!1),o=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,r.jsxs)("div",{className:l.A.moreActionsContainer,ref:o,children:[(0,r.jsx)("button",{className:`${l.A.moreButton} ${n?l.A.active:""}`,onClick:()=>{i(!n)},"aria-label":n?"Close actions menu":"Open actions menu","aria-expanded":n,children:(0,r.jsx)(a.tno,{size:20,className:l.A.icon})}),(0,r.jsx)("div",{className:`${l.A.actionsMenu} ${n?l.A.open:""}`,children:s.map(((e,s)=>(0,r.jsxs)("button",{className:l.A.actionButton,onClick:()=>{e.onClick(),i(!1)},"aria-label":e.label,style:{transitionDelay:n?50*s+"ms":"0ms"},children:[(0,r.jsx)("span",{className:l.A.actionIcon,children:e.icon}),(0,r.jsx)("span",{className:l.A.actionLabel,children:e.label})]},s)))})]})}:null}}]);
//# sourceMappingURL=small-chunks-b4afe919.b4f0a677.js.map