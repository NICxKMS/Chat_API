"use strict";(self.webpackChunkai_chat_interface=self.webpackChunkai_chat_interface||[]).push([["ui-controls"],{32869:(e,a,i)=>{i.r(a),i.d(a,{default:()=>b});var n=i(85908),l=i(16473),r=i(53910),o=i(63483),s=i(65721),t=i(44002),d=i(82485),c=i(44440);const b=e=>{let{onClose:a}=e;const{setIsLoggingIn:b,error:g}=(0,l.A)(),[p,h]=(0,n.J0)(!1),[u,f]=(0,n.J0)(null),[m,_]=(0,n.J0)(""),[v,w]=(0,n.J0)("");(0,n.vJ)((()=>{g&&f(g)}),[g]);const A=async e=>{const{getFirebaseAuth:n}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-e7e1e1be"),i.e("large-vendor-firebase"),i.e("app-large-4f064d56"),i.e("app-large-8367718c"),i.e("app-large-102ff935"),i.e("app-large-6b882012"),i.e("firebase-auth")]).then(i.bind(i,71752)),{signInWithPopup:l}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-e7e1e1be"),i.e("large-vendor-firebase"),i.e("firebase-auth")]).then(i.bind(i,2660)),r=n();if(r){h(!0),f(null);try{await l(r,e)}catch(o){"auth/popup-closed-by-user"===o.code||"auth/cancelled-popup-request"===o.code?(b(!1),a&&a()):"auth/popup-blocked"===o.code?(f("Popup blocked by browser. Please allow popups for this site."),h(!1)):(f(o.message||"Failed to sign in. Please try again."),h(!1))}}else f("Firebase not initialized. Cannot sign in.")},L=()=>{p||(b(!1),a&&a())};return(0,c.Y)("div",{className:d.A.LoginModal,onClick:L,children:(0,c.FD)("div",{className:d.A.LoginModal__modal,onClick:e=>e.stopPropagation(),children:[(0,c.Y)("button",{className:d.A.LoginModal__closeButton,onClick:L,"aria-label":"Close login",children:(0,c.Y)(r.WQq,{})}),(0,c.Y)("h2",{className:d.A.LoginModal__title,children:"Login / Sign Up"}),(0,c.Y)("p",{className:d.A.LoginModal__subtitle,children:"Choose a provider to continue"}),p&&(0,c.FD)("div",{className:d.A.LoginModal__spinnerContainer,children:[" ",(0,c.Y)(t.default,{size:"large"}),(0,c.Y)("p",{children:"Connecting..."})]}),!p&&(0,c.FD)("form",{className:d.A.LoginModal__emailForm,onSubmit:async e=>{e.preventDefault();const{getFirebaseAuth:a}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-e7e1e1be"),i.e("large-vendor-firebase"),i.e("app-large-4f064d56"),i.e("app-large-8367718c"),i.e("app-large-102ff935"),i.e("app-large-6b882012"),i.e("firebase-auth")]).then(i.bind(i,71752)),{signInWithEmailAndPassword:n}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-e7e1e1be"),i.e("large-vendor-firebase"),i.e("firebase-auth")]).then(i.bind(i,2660)),l=a();if(l)if(m&&v){h(!0),f(null);try{await n(l,m,v)}catch(r){f(r.message||"Failed to sign in with email."),h(!1)}}else f("Please enter both email and password.");else f("Firebase not initialized.")},children:[" ",(0,c.Y)("input",{type:"email",placeholder:"Email Address",value:m,onChange:e=>_(e.target.value),required:!0,className:d.A.LoginModal__inputField}),(0,c.Y)("input",{type:"password",placeholder:"Password",value:v,onChange:e=>w(e.target.value),required:!0,className:d.A.LoginModal__inputField}),(0,c.FD)("div",{className:d.A.LoginModal__emailButtonContainer,children:[(0,c.Y)("button",{type:"submit",className:d.A.LoginModal__emailButton,disabled:p,children:"Sign In"}),(0,c.Y)("button",{type:"button",onClick:async e=>{e.preventDefault();const{getFirebaseAuth:a}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-e7e1e1be"),i.e("large-vendor-firebase"),i.e("app-large-4f064d56"),i.e("app-large-8367718c"),i.e("app-large-102ff935"),i.e("app-large-6b882012"),i.e("firebase-auth")]).then(i.bind(i,71752)),{createUserWithEmailAndPassword:n}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-e7e1e1be"),i.e("large-vendor-firebase"),i.e("firebase-auth")]).then(i.bind(i,2660)),l=a();if(l)if(m&&v){h(!0),f(null);try{await n(l,m,v)}catch(r){f(r.message||"Failed to sign up with email."),h(!1)}}else f("Please enter both email and password.");else f("Firebase not initialized.")},className:`${d.A.LoginModal__emailButton} ${d.A.LoginModal__signUpButton}`,disabled:p,children:"Sign Up"})]})]}),!p&&(0,c.FD)("div",{className:d.A.LoginModal__alternativeLoginContainer,children:[(0,c.Y)("p",{className:d.A.LoginModal__alternativeLoginText,children:"Or sign in with"}),(0,c.FD)("div",{className:d.A.LoginModal__providerIconContainer,children:[(0,c.Y)("button",{className:d.A.LoginModal__providerIconButton,onClick:async()=>{const{GoogleAuthProvider:e}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-e7e1e1be"),i.e("large-vendor-firebase"),i.e("firebase-auth")]).then(i.bind(i,2660)),a=new e;A(a)},disabled:p,title:"Sign in with Google","aria-label":"Sign in with Google",children:(0,c.Y)(o.F4b,{})}),(0,c.Y)("button",{className:d.A.LoginModal__providerIconButton,onClick:async()=>{const{GithubAuthProvider:e}=await Promise.all([i.e("firebase-19f9d112"),i.e("firebase-e7e1e1be"),i.e("large-vendor-firebase"),i.e("firebase-auth")]).then(i.bind(i,2660)),a=new e;A(a)},disabled:p,title:"Sign in with GitHub","aria-label":"Sign in with GitHub",children:(0,c.Y)(s.hL4,{})})]})]}),u&&(0,c.Y)("p",{className:d.A.LoginModal__error,children:u}),(0,c.Y)("p",{className:d.A.LoginModal__footerText,children:"By signing in, you agree to our imaginary Terms of Service."})]})})}}}]);
//# sourceMappingURL=ui-controls.e0a496e723.chunk.v1_9_0.js.map