{"version":3,"file":"static/js/model-selector-button.e9c97d3a.chunk.js","mappings":"+MASA,MAyHA,EAzH4BA,IAKrB,IALsB,kBAC3BC,EAAoB,KAAI,aACxBC,EAAe,KAAI,QACnBC,EAAO,SACPC,GAAW,GACZJ,EAEC,MAAOK,EAAUC,IAAeC,EAAAA,EAAAA,UAASC,OAAOC,YAAc,MACvDC,EAAcC,IAAmBJ,EAAAA,EAAAA,WAAS,GAC3CK,GAAYC,EAAAA,EAAAA,QAAO,MACnBC,GAAUD,EAAAA,EAAAA,QAAO,OAChBE,EAAaC,IAAkBT,EAAAA,EAAAA,UAAS,IACxCU,EAAWC,IAAgBX,EAAAA,EAAAA,WAAS,IACpCY,EAAaC,IAAkBb,EAAAA,EAAAA,WAAS,IAG/Cc,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAeA,KACnBhB,EAAYE,OAAOC,YAAc,IAAI,EAIvC,OADAD,OAAOe,iBAAiB,SAAUD,GAC3B,IAAMd,OAAOgB,oBAAoB,SAAUF,EAAa,GAC9D,KAGHD,EAAAA,EAAAA,YAAU,KACR,GAAIT,EAAUa,SAAWxB,IAAsBgB,EAAW,CACxD,MAAMS,EAAQd,EAAUa,QAAQE,YAChCX,EAAeU,GACfR,GAAa,EACf,IACC,CAACjB,EAAmBgB,KAGvBI,EAAAA,EAAAA,YAAU,KACJN,EAAc,GAAKH,EAAUa,UAC/Bb,EAAUa,QAAQG,MAAMF,MAAQ,GAAGX,EAAY,OACjD,GACC,CAACA,KAGJM,EAAAA,EAAAA,YAAU,KACR,IAAKpB,IAAsBC,EAAc,OAEzC,MAAM2B,EAAWC,aAAY,KAC3BnB,GAAgBoB,IAASA,GAAK,GAC7B,KAEH,MAAO,IAAMC,cAAcH,EAAS,GACnC,CAAC5B,EAAmBC,KAGvBmB,EAAAA,EAAAA,YAAU,KACR,GAAIP,EAAQW,QAAS,CACnB,MAAMQ,EAAgBnB,EAAQW,QAAQS,YAAcpB,EAAQW,QAAQU,YACpEf,EAAea,EACjB,IACC,CAACvB,EAAcT,EAAmBC,EAAcG,IA0BnD,OACE+B,EAAAA,EAAAA,KAAA,UACEC,IAAKzB,EACL0B,UAAWC,EAAAA,EAAOC,oBAClBrC,QAASA,EACTC,SAAUA,EACV,gBAAc,OACd,aAAY,0BAA0BH,GAAqB,UAAUwC,SAEpErC,IAAaH,GACZmC,EAAAA,EAAAA,KAACM,EAAAA,QAAO,CAACC,KAAK,QAAQL,UAAWC,EAAAA,EAAOK,gCAExCC,EAAAA,EAAAA,MAAA,OAAKP,UAAWC,EAAAA,EAAOO,kCAAkCL,SAAA,EACvDL,EAAAA,EAAAA,KAAA,QACEC,IAAKvB,EACLwB,UAAW,GAAGC,EAAAA,EAAOQ,6BAA6BrC,EAAe6B,EAAAA,EAAO,2CAA6C,MAAMpB,GAAeT,EAAe6B,EAAAA,EAAO,yCAA2C,KAAKE,SA1BnNxC,EAIAC,GAAiBQ,EAfjBR,EAEEA,EACJ8C,MAAM,KACNC,KAAIC,GAAQA,EAAKC,OAAO,GAAGC,cAAgBF,EAAKG,MAAM,GAAGC,gBACzDC,KAAK,KACLC,QAAQ,QAAS,MANM,GAgBjBvD,EAJAI,EAAW,eAAiB,oBA6B/B+B,EAAAA,EAAAA,KAACqB,EAAAA,IAAe,CAACd,KAAM,GAAIL,UAAWC,EAAAA,EAAOmB,gCAG1C,C","sources":["components/models/ModelSelectorButton/index.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { useState, useEffect, useRef } from 'react';\nimport { ChevronDownIcon } from '@primer/octicons-react';\nimport styles from './ModelSelectorButton.module.css';\nimport Spinner from '../../common/Spinner';\n\n/**\n * Button to trigger the model selection UI (Dropdown/Modal)\n */\nconst ModelSelectorButton = ({ \n  selectedModelName = null, \n  providerName = null,\n  onClick, \n  disabled = false \n}) => {\n  // State to track window width for responsive text\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n  const [showProvider, setShowProvider] = useState(false);\n  const buttonRef = useRef(null);\n  const textRef = useRef(null);\n  const [buttonWidth, setButtonWidth] = useState(0);\n  const [buttonSet, setButtonSet] = useState(false);\n  const [hasOverflow, setHasOverflow] = useState(false);\n\n  // Update mobile state on window resize\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  \n  // Measure button width once it's rendered with the model name\n  useEffect(() => {\n    if (buttonRef.current && selectedModelName && !buttonSet) {\n      const width = buttonRef.current.offsetWidth;\n      setButtonWidth(width);\n      setButtonSet(true);\n    }\n  }, [selectedModelName, buttonSet]);\n  \n  // Apply width to button when width is determined\n  useEffect(() => {\n    if (buttonWidth > 0 && buttonRef.current) {\n      buttonRef.current.style.width = `${buttonWidth+10}px`;\n    }\n  }, [buttonWidth]);\n  \n  // Animation to toggle between model and provider\n  useEffect(() => {\n    if (!selectedModelName || !providerName) return;\n    \n    const interval = setInterval(() => {\n      setShowProvider(prev => !prev);\n    }, 5000);\n    \n    return () => clearInterval(interval);\n  }, [selectedModelName, providerName]);\n  \n  // Check if text is overflowing\n  useEffect(() => {\n    if (textRef.current) {\n      const isOverflowing = textRef.current.scrollWidth > textRef.current.clientWidth;\n      setHasOverflow(isOverflowing);\n    }\n  }, [showProvider, selectedModelName, providerName, isMobile]);\n  \n  // Format provider name to title case\n  const getFormattedProvider = () => {\n    if (!providerName) return '';\n    \n    return providerName\n      .split(' ')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n      .join(' ')\n      .replace(/Ai\\b/g, 'AI');\n  };\n  \n  // Get display text based on current state\n  const displayText = () => {\n    if (!selectedModelName) {\n      return isMobile ? 'Select Model' : 'Select a Model';\n    }\n    \n    if (!providerName || !showProvider) {\n      return selectedModelName;\n    } else {\n      return getFormattedProvider();\n    }\n  };\n  \n  return (\n    <button \n      ref={buttonRef}\n      className={styles.ModelSelectorButton}\n      onClick={onClick}\n      disabled={disabled}\n      aria-haspopup=\"true\"\n      aria-label={`Select Model (Current: ${selectedModelName || 'None'})`}\n    >\n      {disabled && !selectedModelName ? (\n        <Spinner size=\"small\" className={styles.ModelSelectorButton__spinner} />\n      ) : (\n        <div className={styles.ModelSelectorButton__innerContent}>\n          <span \n            ref={textRef}\n            className={`${styles.ModelSelectorButton__text} ${showProvider ? styles['ModelSelectorButton__text--showProvider'] : ''} ${hasOverflow && showProvider ? styles['ModelSelectorButton__text--scrollText'] : ''}`}\n          >\n            {displayText()}\n          </span>\n          <ChevronDownIcon size={16} className={styles.ModelSelectorButton__icon} />\n        </div>\n      )}\n    </button>\n  );\n};\n\nModelSelectorButton.propTypes = {\n  /** Currently selected model name to display */\n  selectedModelName: PropTypes.string,\n  /** Provider name of the selected model */\n  providerName: PropTypes.string,\n  /** Function to call when the button is clicked */\n  onClick: PropTypes.func.isRequired,\n  /** Whether the button should be disabled */\n  disabled: PropTypes.bool,\n};\n\nexport default ModelSelectorButton;"],"names":["_ref","selectedModelName","providerName","onClick","disabled","isMobile","setIsMobile","useState","window","innerWidth","showProvider","setShowProvider","buttonRef","useRef","textRef","buttonWidth","setButtonWidth","buttonSet","setButtonSet","hasOverflow","setHasOverflow","useEffect","handleResize","addEventListener","removeEventListener","current","width","offsetWidth","style","interval","setInterval","prev","clearInterval","isOverflowing","scrollWidth","clientWidth","_jsx","ref","className","styles","ModelSelectorButton","children","Spinner","size","ModelSelectorButton__spinner","_jsxs","ModelSelectorButton__innerContent","ModelSelectorButton__text","split","map","word","charAt","toUpperCase","slice","toLowerCase","join","replace","ChevronDownIcon","ModelSelectorButton__icon"],"sourceRoot":""}