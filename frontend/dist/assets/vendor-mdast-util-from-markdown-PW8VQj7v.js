import{p as e,a as t,b as n}from"./vendor-micromark-CT66Bizv.js";import{d as i}from"./vendor-micromark-util-decode-numeric-character-reference-qd59qYy-.js";import{d as r}from"./vendor-micromark-util-decode-string-DNFV-wAX.js";import{n as s}from"./vendor-micromark-util-normalize-identifier-CzKtq1sx.js";import{d as c}from"./vendor-decode-named-character-reference-C-EXV6yX.js";import{s as a}from"./vendor-unist-util-stringify-position-CvSG9YTx.js";import{t as l}from"./vendor-mdast-util-to-string-Ck87fAyN.js";const o={}.hasOwnProperty,h=function(h,f,k){return"string"!=typeof f&&(k=f,f=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:m(de),autolinkProtocol:O,autolinkEmail:O,atxHeading:m(le),blockQuote:m(ie),characterEscape:O,characterReference:O,codeFenced:m(re),codeFencedFenceInfo:y,codeFencedFenceMeta:y,codeIndented:m(re,y),codeText:m(se,y),codeTextData:O,data:O,codeFlowValue:O,definition:m(ce),definitionDestinationString:y,definitionLabelString:y,definitionTitleString:y,emphasis:m(ae),hardBreakEscape:m(oe),hardBreakTrailing:m(oe),htmlFlow:m(he,y),htmlFlowData:O,htmlText:m(he,y),htmlTextData:O,image:m(ue),label:y,link:m(de),listItem:m(pe),listItemValue:I,listOrdered:m(fe,T),listUnordered:m(fe),paragraph:m(ke),reference:X,referenceString:y,resourceDestinationString:y,resourceTitleString:y,setextHeading:m(le),strong:m(ge),thematicBreak:m(ye)},exit:{atxHeading:S(),atxHeadingSequence:D,autolink:S(),autolinkEmail:ne,autolinkProtocol:te,blockQuote:S(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:ee,codeFenced:S(H),codeFencedFence:w,codeFencedFenceInfo:E,codeFencedFenceMeta:F,codeFlowValue:V,codeIndented:S(R),codeText:S(A),codeTextData:V,data:V,definition:S(),definitionDestinationString:B,definitionLabelString:z,definitionTitleString:C,emphasis:S(),hardBreakEscape:S(Q),hardBreakTrailing:S(Q),htmlFlow:S(U),htmlFlowData:V,htmlText:S(_),htmlTextData:V,image:S(q),label:$,labelText:W,lineEnding:M,link:S(N),listItem:S(),listOrdered:S(),listUnordered:S(),paragraph:S(),referenceString:Y,resourceDestinationString:G,resourceTitleString:J,resource:K,setextHeading:S(j),setextHeadingLineSequence:P,setextHeadingText:L,strong:S(),thematicBreak:S()}};d(t,(e||{}).mdastExtensions||[]);const n={};return h;function h(e){let n={type:"root",children:[]};const i={stack:[n],tokenStack:[],config:t,enter:x,exit:b,buffer:y,resume:v,setData:k,getData:g},r=[];let s=-1;for(;++s<e.length;)if("listOrdered"===e[s][1].type||"listUnordered"===e[s][1].type)if("enter"===e[s][0])r.push(s);else{s=f(e,r.pop(),s)}for(s=-1;++s<e.length;){const n=t[e[s][0]];o.call(n,e[s][1].type)&&n[e[s][1].type].call(Object.assign({sliceSerialize:e[s][2].sliceSerialize},i),e[s][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||p).call(i,void 0,e[0])}for(n.position={start:u(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:u(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},s=-1;++s<t.transforms.length;)n=t.transforms[s](n)||n;return n}function f(e,t,n){let i,r,s,c,a=t-1,l=-1,o=!1;for(;++a<=n;){const t=e[a];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?l++:l--,c=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!i||c||l||s||(s=a),c=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(c=void 0),!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let c=a;for(r=void 0;c--;){const t=e[c];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;r&&(e[r][1].type="lineEndingBlank",o=!0),t[1].type="lineEnding",r=c}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}s&&(!r||s<r)&&(i._spread=!0),i.end=Object.assign({},r?e[r][1].start:t[1].end),e.splice(r||a,0,["exit",i,t[2]]),a++,n++}"listItemPrefix"===t[1].type&&(i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0},e.splice(a,0,["enter",i,t[2]]),a++,n++,s=void 0,c=!0)}}return e[t][1]._spread=o,n}function k(e,t){n[e]=t}function g(e){return n[e]}function m(e,t){return n;function n(n){x.call(this,e(n),n),t&&t.call(this,n)}}function y(){this.stack.push({type:"fragment",children:[]})}function x(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:u(t.start)},e}function S(e){return t;function t(t){e&&e.call(this,t),b.call(this,t)}}function b(e,t){const n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+a({start:e.start,end:e.end})+"): itâ€™s not open");if(i[0].type!==e.type)if(t)t.call(this,e,i[0]);else{(i[1]||p).call(this,e,i[0])}return n.position.end=u(e.end),n}function v(){return l(this.stack.pop())}function T(){k("expectingFirstListItemValue",!0)}function I(e){if(g("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),k("expectingFirstListItemValue")}}function E(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function F(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function w(){g("flowCodeInside")||(this.buffer(),k("flowCodeInside",!0))}function H(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),k("flowCodeInside")}function R(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function z(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=s(this.sliceSerialize(e)).toLowerCase()}function C(){const e=this.resume();this.stack[this.stack.length-1].title=e}function B(){const e=this.resume();this.stack[this.stack.length-1].url=e}function D(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function L(){k("setextHeadingSlurpLineEnding",!0)}function P(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function j(){k("setextHeadingSlurpLineEnding")}function O(e){const t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||(n=me(),n.position={start:u(e.start)},t.children.push(n)),this.stack.push(n)}function V(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=u(e.end)}function M(e){const n=this.stack[this.stack.length-1];if(g("atHardBreak")){return n.children[n.children.length-1].position.end=u(e.end),void k("atHardBreak")}!g("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(O.call(this,e),V.call(this,e))}function Q(){k("atHardBreak",!0)}function U(){const e=this.resume();this.stack[this.stack.length-1].value=e}function _(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.stack[this.stack.length-1];if(g("inReference")){const t=g("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;k("referenceType")}function q(){const e=this.stack[this.stack.length-1];if(g("inReference")){const t=g("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;k("referenceType")}function W(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=r(t),n.identifier=s(t).toLowerCase()}function $(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(k("inReference",!0),"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function G(){const e=this.resume();this.stack[this.stack.length-1].url=e}function J(){const e=this.resume();this.stack[this.stack.length-1].title=e}function K(){k("inReference")}function X(){k("referenceType","collapsed")}function Y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=s(this.sliceSerialize(e)).toLowerCase(),k("referenceType","full")}function Z(e){k("characterReferenceType",e.type)}function ee(e){const t=this.sliceSerialize(e),n=g("characterReferenceType");let r;if(n)r=i(t,"characterReferenceMarkerNumeric"===n?10:16),k("characterReferenceType");else{r=c(t)}const s=this.stack.pop();s.value+=r,s.position.end=u(e.end)}function te(e){V.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function ne(e){V.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function ie(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ae(){return{type:"emphasis",children:[]}}function le(){return{type:"heading",depth:void 0,children:[]}}function oe(){return{type:"break"}}function he(){return{type:"html",value:""}}function ue(){return{type:"image",title:null,url:"",alt:null}}function de(){return{type:"link",title:null,url:"",children:[]}}function fe(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function pe(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ke(){return{type:"paragraph",children:[]}}function ge(){return{type:"strong",children:[]}}function me(){return{type:"text",value:""}}function ye(){return{type:"thematicBreak"}}}(k)(e(t(k).document().write(n()(h,f,!0))))};function u(e){return{line:e.line,column:e.column,offset:e.offset}}function d(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?d(e,i):f(e,i)}}function f(e,t){let n;for(n in t)if(o.call(t,n))if("canContainEols"===n){const i=t[n];i&&e[n].push(...i)}else if("transforms"===n){const i=t[n];i&&e[n].push(...i)}else if("enter"===n||"exit"===n){const i=t[n];i&&Object.assign(e[n],i)}}function p(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+a({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+a({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+a({start:t.start,end:t.end})+") is still open")}export{h as f};
//# sourceMappingURL=vendor-mdast-util-from-markdown-PW8VQj7v.js.map
