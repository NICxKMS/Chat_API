const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firebaseConfig-BCNoxiWp.js","assets/firebase-7FRIWL1f.js","assets/vendor-idb-CFK1l90-.js","assets/vendor-tslib-Cv3dJDD7.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./react-syntax-highlighter-rQgkRzde.js";import{r as i,j as r,I as t,F as o,d as a}from"./framework--d6mMtcS.js";import{a as s,S as n}from"./index-DAcZPh8S.js";import"./vendor-babel-n5kzynIe.js";import"./refractor-core-CPle4AHE.js";import"./vendor-hastscript-DOIm2S7G.js";import"./vendor-xtend-Bx3ujlEJ.js";import"./vendor-hast-util-parse-selector-j38Qpric.js";import"./vendor-parse-entities-D4Dt79sy.js";import"./vendor-character-entities-legacy-C0-9l53Z.js";import"./vendor-character-reference-invalid-CXGT0v6U.js";import"./vendor-is-decimal-J_H0W03Q.js";import"./vendor-is-hexadecimal-B1wGafkN.js";import"./vendor-is-alphanumerical-z9x4zqKd.js";import"./vendor-is-alphabetical-Y2TTKzg7.js";import"./refractor-markup-CNhLbOs4.js";import"./refractor-css-D0oVyIz7.js";import"./refractor-clike-CzH4jCHD.js";import"./refractor-javascript-Bcy-LhR2.js";import"./vendor-prop-types-CQCrBv66.js";import"./vendor-property-information-Bqm-w5SU.js";import"./vendor-unist-util-visit-CYGNQgsi.js";import"./vendor-hast-util-whitespace-Be7pfeyt.js";import"./vendor-space-separated-tokens-DO9R2H4G.js";import"./vendor-comma-separated-tokens-Df9LWCSf.js";import"./vendor-style-to-object-CxqtyswF.js";import"./vendor-inline-style-parser-D8_Zmyug.js";import"./vendor-bail-gCPcOVbC.js";import"./vendor-extend-tA__Z666.js";import"./vendor-is-plain-obj-DeEdtHJQ.js";import"./vendor-trough-zzWXwSIo.js";import"./vendor-vfile-C7KQ_xuq.js";import"./vendor-unist-util-stringify-position-CvSG9YTx.js";import"./vendor-mdast-util-from-markdown-PW8VQj7v.js";import"./vendor-micromark-CT66Bizv.js";import"./vendor-micromark-util-combine-extensions-D0lltlzb.js";import"./vendor-micromark-util-chunked-3k3e5hER.js";import"./vendor-micromark-factory-space-BuxqzSY_.js";import"./vendor-micromark-core-commonmark-CKya-DGW.js";import"./vendor-micromark-util-classify-character-xDUcR3gG.js";import"./vendor-micromark-util-resolve-all-U8fstr8o.js";import"./vendor-decode-named-character-reference-C-EXV6yX.js";import"./vendor-micromark-util-subtokenize-BM4KMHVE.js";import"./vendor-micromark-factory-destination-B-3w5mMe.js";import"./vendor-micromark-factory-label-Cod0aiTB.js";import"./vendor-micromark-factory-title-CWRBDKzc.js";import"./vendor-micromark-factory-whitespace-YzaPLww_.js";import"./vendor-micromark-util-normalize-identifier-CzKtq1sx.js";import"./vendor-micromark-util-html-tag-name-DbKNfynz.js";import"./vendor-micromark-util-decode-numeric-character-reference-qd59qYy-.js";import"./vendor-micromark-util-decode-string-DNFV-wAX.js";import"./vendor-mdast-util-to-string-Ck87fAyN.js";import"./vendor-remark-rehype-CW3p_88l.js";import"./vendor-trim-lines-C03Dth7Y.js";import"./vendor-mdast-util-definitions-BogZMgA2.js";import"./vendor-unist-util-generated-Bn-sJWM5.js";import"./utils-DyE1HC8q.js";const l="_LoginModal_t1krv_1",d="_LoginModal__modal_t1krv_13",m="_LoginModal__closeButton_t1krv_26",c="_LoginModal__title_t1krv_44",p="_LoginModal__subtitle_t1krv_52",_="_LoginModal__spinnerContainer_t1krv_101",u="_LoginModal__error_t1krv_110",j="_LoginModal__footerText_t1krv_120",v="_LoginModal__emailForm_t1krv_147",h="_LoginModal__inputField_t1krv_154",g="_LoginModal__emailButtonContainer_t1krv_173",b="_LoginModal__emailButton_t1krv_173",k="_LoginModal__signUpButton_t1krv_209",f="_LoginModal__alternativeLoginContainer_t1krv_245",w="_LoginModal__alternativeLoginText_t1krv_252",y="_LoginModal__providerIconContainer_t1krv_258",x="_LoginModal__providerIconButton_t1krv_264",A=({onClose:A})=>{const{setIsLoggingIn:L,error:P}=s(),[E,C]=i.useState(!1),[I,F]=i.useState(null),[N,M]=i.useState(""),[S,D]=i.useState("");i.useEffect((()=>{P&&F(P)}),[P]);const G=async i=>{const{getFirebaseAuth:r}=await e((async()=>{const{getFirebaseAuth:e}=await import("./firebaseConfig-BCNoxiWp.js");return{getFirebaseAuth:e}}),__vite__mapDeps([0,1,2,3])),{signInWithPopup:t}=await e((async()=>{const{signInWithPopup:e}=await import("./firebase-7FRIWL1f.js");return{signInWithPopup:e}}),__vite__mapDeps([1,2,3])),o=r();if(o){C(!0),F(null);try{await t(o,i)}catch(a){"auth/popup-closed-by-user"===a.code||"auth/cancelled-popup-request"===a.code?(L(!1),A&&A()):"auth/popup-blocked"===a.code?(F("Popup blocked by browser. Please allow popups for this site."),C(!1)):(F(a.message||"Failed to sign in. Please try again."),C(!1))}}else F("Firebase not initialized. Cannot sign in.")},T=()=>{E||(L(!1),A&&A())};return r.jsx("div",{className:l,onClick:T,children:r.jsxs("div",{className:d,onClick:e=>e.stopPropagation(),children:[r.jsx("button",{className:m,onClick:T,"aria-label":"Close login",children:r.jsx(t,{})}),r.jsx("h2",{className:c,children:"Login / Sign Up"}),r.jsx("p",{className:p,children:"Choose a provider to continue"}),E&&r.jsxs("div",{className:_,children:[" ",r.jsx(n,{size:"large"}),r.jsx("p",{children:"Connecting..."})]}),!E&&r.jsxs("form",{className:v,onSubmit:async i=>{i.preventDefault();const{getFirebaseAuth:r}=await e((async()=>{const{getFirebaseAuth:e}=await import("./firebaseConfig-BCNoxiWp.js");return{getFirebaseAuth:e}}),__vite__mapDeps([0,1,2,3])),{signInWithEmailAndPassword:t}=await e((async()=>{const{signInWithEmailAndPassword:e}=await import("./firebase-7FRIWL1f.js");return{signInWithEmailAndPassword:e}}),__vite__mapDeps([1,2,3])),o=r();if(o)if(N&&S){C(!0),F(null);try{await t(o,N,S)}catch(a){F(a.message||"Failed to sign in with email."),C(!1)}}else F("Please enter both email and password.");else F("Firebase not initialized.")},children:[" ",r.jsx("input",{type:"email",placeholder:"Email Address",value:N,onChange:e=>M(e.target.value),required:!0,className:h}),r.jsx("input",{type:"password",placeholder:"Password",value:S,onChange:e=>D(e.target.value),required:!0,className:h}),r.jsxs("div",{className:g,children:[r.jsx("button",{type:"submit",className:b,disabled:E,children:"Sign In"}),r.jsx("button",{type:"button",onClick:async i=>{i.preventDefault();const{getFirebaseAuth:r}=await e((async()=>{const{getFirebaseAuth:e}=await import("./firebaseConfig-BCNoxiWp.js");return{getFirebaseAuth:e}}),__vite__mapDeps([0,1,2,3])),{createUserWithEmailAndPassword:t}=await e((async()=>{const{createUserWithEmailAndPassword:e}=await import("./firebase-7FRIWL1f.js");return{createUserWithEmailAndPassword:e}}),__vite__mapDeps([1,2,3])),o=r();if(o)if(N&&S){C(!0),F(null);try{await t(o,N,S)}catch(a){F(a.message||"Failed to sign up with email."),C(!1)}}else F("Please enter both email and password.");else F("Firebase not initialized.")},className:`${b} ${k}`,disabled:E,children:"Sign Up"})]})]}),!E&&r.jsxs("div",{className:f,children:[r.jsx("p",{className:w,children:"Or sign in with"}),r.jsxs("div",{className:y,children:[r.jsx("button",{className:x,onClick:async()=>{const{GoogleAuthProvider:i}=await e((async()=>{const{GoogleAuthProvider:e}=await import("./firebase-7FRIWL1f.js");return{GoogleAuthProvider:e}}),__vite__mapDeps([1,2,3])),r=new i;G(r)},disabled:E,title:"Sign in with Google","aria-label":"Sign in with Google",children:r.jsx(o,{})}),r.jsx("button",{className:x,onClick:async()=>{const{GithubAuthProvider:i}=await e((async()=>{const{GithubAuthProvider:e}=await import("./firebase-7FRIWL1f.js");return{GithubAuthProvider:e}}),__vite__mapDeps([1,2,3])),r=new i;G(r)},disabled:E,title:"Sign in with GitHub","aria-label":"Sign in with GitHub",children:r.jsx(a,{})})]})]}),I&&r.jsx("p",{className:u,children:I}),r.jsx("p",{className:j,children:"By signing in, you agree to our imaginary Terms of Service."})]})})};export{A as default};
//# sourceMappingURL=LoginModal-B2ut-5TS.js.map
