import{s as t}from"./vendor-micromark-util-chunked-3k3e5hER.js";function e(e){const i={};let s,o,r,l,p,f,c,a=-1;for(;++a<e.length;){for(;a in i;)a=i[a];if(s=e[a],a&&"chunkFlow"===s[1].type&&"listItemPrefix"===e[a-1][1].type&&(f=s[1]._tokenizer.events,r=0,r<f.length&&"lineEndingBlank"===f[r][1].type&&(r+=2),r<f.length&&"content"===f[r][1].type))for(;++r<f.length&&"content"!==f[r][1].type;)"chunkText"===f[r][1].type&&(f[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===s[0])s[1].contentType&&(Object.assign(i,n(e,a)),a=i[a],c=!0);else if(s[1]._container){for(r=a,o=void 0;r--&&(l=e[r],"lineEnding"===l[1].type||"lineEndingBlank"===l[1].type);)"enter"===l[0]&&(o&&(e[o][1].type="lineEndingBlank"),l[1].type="lineEnding",o=r);o&&(s[1].end=Object.assign({},e[o][1].start),p=e.slice(o,a),p.unshift(s),t(e,o,a-o+1,p))}}return!c}function n(e,n){const i=e[n][1],s=e[n][2];let o=n-1;const r=[],l=i._tokenizer||s.parser[i.contentType](i.start),p=l.events,f=[],c={};let a,g,d=-1,h=i,u=0,k=0;const y=[k];for(;h;){for(;e[++o][1]!==h;);r.push(o),h._tokenizer||(a=s.sliceStream(h),h.next||a.push(null),g&&l.defineSkip(h.start),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(a),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=h,h=h.next}for(h=i;++d<p.length;)"exit"===p[d][0]&&"enter"===p[d-1][0]&&p[d][1].type===p[d-1][1].type&&p[d][1].start.line!==p[d][1].end.line&&(k=d+1,y.push(k),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(l.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const n=p.slice(y[d],y[d+1]),i=r.pop();f.unshift([i,i+n.length-1]),t(e,i,2,n)}for(d=-1;++d<f.length;)c[u+f[d][0]]=u+f[d][1],u+=f[d][1]-f[d][0]-1;return c}export{e as s};
//# sourceMappingURL=vendor-micromark-util-subtokenize-BM4KMHVE.js.map
