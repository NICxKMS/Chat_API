{"version":3,"file":"vendor-mdast-util-definitions-BogZMgA2.js","sources":["../../node_modules/mdast-util-definitions/lib/index.js"],"sourcesContent":["/**\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast').Content} Content\n * @typedef {import('mdast').Definition} Definition\n */\n\n/**\n * @typedef {Root | Content} Node\n *\n * @callback GetDefinition\n *   Get a definition by identifier.\n * @param {string | null | undefined} [identifier]\n *   Identifier of definition.\n * @returns {Definition | null}\n *   Definition corresponding to `identifier` or `null`.\n */\n\nimport {visit} from 'unist-util-visit'\n\nconst own = {}.hasOwnProperty\n\n/**\n * Find definitions in `tree`.\n *\n * Uses CommonMark precedence, which means that earlier definitions are\n * preferred over duplicate later definitions.\n *\n * @param {Node} tree\n *   Tree to check.\n * @returns {GetDefinition}\n *   Getter.\n */\nexport function definitions(tree) {\n  /** @type {Record<string, Definition>} */\n  const cache = Object.create(null)\n\n  if (!tree || !tree.type) {\n    throw new Error('mdast-util-definitions expected node')\n  }\n\n  visit(tree, 'definition', (definition) => {\n    const id = clean(definition.identifier)\n    if (id && !own.call(cache, id)) {\n      cache[id] = definition\n    }\n  })\n\n  return definition\n\n  /** @type {GetDefinition} */\n  function definition(identifier) {\n    const id = clean(identifier)\n    // To do: next major: return `undefined` when not found.\n    return id && own.call(cache, id) ? cache[id] : null\n  }\n}\n\n/**\n * @param {string | null | undefined} [value]\n * @returns {string}\n */\nfunction clean(value) {\n  return String(value || '').toUpperCase()\n}\n"],"names":["own","hasOwnProperty","definitions","tree","cache","Object","create","type","Error","visit","definition","id","clean","identifier","call","value","String","toUpperCase"],"mappings":"0DAmBA,MAAMA,EAAM,CAAA,EAAGC,eAaR,SAASC,EAAYC,GAEpB,MAAAC,EAAeC,OAAAC,OAAO,MAE5B,IAAKH,IAASA,EAAKI,KACX,MAAA,IAAIC,MAAM,wCAUX,OAPDC,EAAAN,EAAM,cAAeO,IACnB,MAAAC,EAAKC,EAAMF,EAAWG,YACxBF,IAAOX,EAAIc,KAAKV,EAAOO,KACzBP,EAAMO,GAAMD,EAClB,IAME,SAAoBG,GACZ,MAAAF,EAAKC,EAAMC,GAEV,OAAAF,GAAMX,EAAIc,KAAKV,EAAOO,GAAMP,EAAMO,GAAM,IACnD,CACA,CAMA,SAASC,EAAMG,GACb,OAAOC,OAAOD,GAAS,IAAIE,aAC7B","x_google_ignoreList":[0]}