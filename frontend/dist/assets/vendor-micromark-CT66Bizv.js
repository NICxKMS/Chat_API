import{c as e}from"./vendor-micromark-util-combine-extensions-D0lltlzb.js";import{f as n}from"./vendor-micromark-factory-space-BuxqzSY_.js";import{s as t,p as r}from"./vendor-micromark-util-chunked-3k3e5hER.js";import{b as o,c as i,a as s,l as u,d as c,e as l,f,t as a,s as d,h as p,g as h,i as v,j as m,k as x,m as g,n as k,o as b,p as _,q as y,r as w,u as I,v as S}from"./vendor-micromark-core-commonmark-CKya-DGW.js";import{r as j}from"./vendor-micromark-util-resolve-all-U8fstr8o.js";import{s as C}from"./vendor-micromark-util-subtokenize-BM4KMHVE.js";function z(e){return null!==e&&e<-2}const A={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n(e,t,"linePrefix")}),(function(n){return e.enter("paragraph"),o(n)}));let r;return t;function o(n){const t=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=t),r=t,i(n)}function i(n){return null===n?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(n)):z(n)?(e.consume(n),e.exit("chunkText"),o):(e.consume(n),i)}}};const O={tokenize:function(e){const n=this,r=[];let o,i,s,u=0;return c;function c(t){if(u<r.length){const o=r[u];return n.containerState=o[1],e.attempt(o[0].continuation,l,f)(t)}return f(t)}function l(e){if(u++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,o&&k();const r=n.events.length;let i,s=r;for(;s--;)if("exit"===n.events[s][0]&&"chunkFlow"===n.events[s][1].type){i=n.events[s][1].end;break}g(u);let c=r;for(;c<n.events.length;)n.events[c][1].end=Object.assign({},i),c++;return t(n.events,s+1,0,n.events.slice(r)),n.events.length=c,f(e)}return c(e)}function f(t){if(u===r.length){if(!o)return p(t);if(o.currentConstruct&&o.currentConstruct.concrete)return v(t);n.interrupt=Boolean(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(T,a,d)(t)}function a(e){return o&&k(),g(u),p(e)}function d(e){return n.parser.lazy[n.now().line]=u!==r.length,s=n.now().offset,v(e)}function p(t){return n.containerState={},e.attempt(T,h,v)(t)}function h(e){return u++,r.push([n.currentConstruct,n.containerState]),p(e)}function v(t){return null===t?(o&&k(),g(0),void e.consume(t)):(o=o||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:o}),m(t))}function m(t){return null===t?(x(e.exit("chunkFlow"),!0),g(0),void e.consume(t)):z(t)?(e.consume(t),x(e.exit("chunkFlow")),u=0,n.interrupt=void 0,c):(e.consume(t),m)}function x(e,r){const c=n.sliceStream(e);if(r&&c.push(null),e.previous=i,i&&(i.next=e),i=e,o.defineSkip(e.start),o.write(c),n.parser.lazy[e.start.line]){let e=o.events.length;for(;e--;)if(o.events[e][1].start.offset<s&&(!o.events[e][1].end||o.events[e][1].end.offset>s))return;const r=n.events.length;let i,c,l=r;for(;l--;)if("exit"===n.events[l][0]&&"chunkFlow"===n.events[l][1].type){if(i){c=n.events[l][1].end;break}i=!0}for(g(u),e=r;e<n.events.length;)n.events[e][1].end=Object.assign({},c),e++;t(n.events,l+1,0,n.events.slice(r)),n.events.length=e}}function g(t){let o=r.length;for(;o-- >t;){const t=r[o];n.containerState=t[1],t[0].exit.call(n,e)}r.length=t}function k(){o.write([null]),i=void 0,o=void 0,n.containerState._closeFlow=void 0}}},T={tokenize:function(e,t,r){return n(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const E={tokenize:function(e){const t=this,r=e.attempt(o,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEndingBlank"),e.consume(n),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}),e.attempt(this.parser.constructs.flowInitial,s,n(e,e.attempt(this.parser.constructs.flow,s,e.attempt(i,s)),"linePrefix")));return r;function s(n){if(null!==n)return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),t.currentConstruct=void 0,r;e.consume(n)}}};const F={resolveAll:D()},B=M("string"),P=M("text");function M(e){return{tokenize:function(n){const t=this,r=this.parser.constructs[e],o=n.attempt(r,i,s);return i;function i(e){return c(e)?o(e):s(e)}function s(e){if(null!==e)return n.enter("data"),n.consume(e),u;n.consume(e)}function u(e){return c(e)?(n.exit("data"),o(e)):(n.consume(e),u)}function c(e){if(null===e)return!0;const n=r[e];let o=-1;if(n)for(;++o<n.length;){const e=n[o];if(!e.previous||e.previous.call(t,t.previous))return!0}return!1}},resolveAll:D("text"===e?q:void 0)}}function D(e){return function(n,t){let r,o=-1;for(;++o<=n.length;)void 0===r?n[o]&&"data"===n[o][1].type&&(r=o,o++):n[o]&&"data"===n[o][1].type||(o!==r+2&&(n[r][1].end=n[o-1][1].end,n.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(n,t):n}}function q(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||"lineEnding"===e[t][1].type)&&"data"===e[t-1][1].type){const r=e[t-1][1],o=n.sliceStream(r);let i,s=o.length,u=-1,c=0;for(;s--;){const e=o[s];if("string"==typeof e){for(u=e.length;32===e.charCodeAt(u-1);)c++,u--;if(u)break;u=-1}else if(-2===e)i=!0,c++;else if(-1!==e){s++;break}}if(c){const o={type:t===e.length||i||c<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-c,offset:r.end.offset-c,_index:r.start._index+s,_bufferIndex:s?u:r.start._bufferIndex+u},end:Object.assign({},r.end)};r.end=Object.assign({},o.start),r.start.offset===r.end.offset?Object.assign(r,o):(e.splice(t,0,["enter",o,n],["exit",o,n]),t+=2)}t++}return e}function G(e,n,o){let i=Object.assign(o?Object.assign({},o):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},u=[];let c=[],l=[];const f={consume:function(e){z(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,b()):-1!==e&&(i.column++,i.offset++);i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++));a.previous=e},enter:function(e,n){const t=n||{};return t.type=e,t.start=h(),a.events.push(["enter",t,a]),l.push(t),t},exit:function(e){const n=l.pop();return n.end=h(),a.events.push(["exit",n,a]),n},attempt:g((function(e,n){k(e,n.from)})),check:g(x),interrupt:g(x,{interrupt:!0})},a={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:p,sliceSerialize:function(e,n){return function(e,n){let t=-1;const r=[];let o;for(;++t<e.length;){const i=e[t];let s;if("string"==typeof i)s=i;else switch(i){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=n?" ":"\t";break;case-1:if(!n&&o)continue;s=" ";break;default:s=String.fromCharCode(i)}o=-2===i,r.push(s)}return r.join("")}(p(e),n)},now:h,defineSkip:function(e){s[e.line]=e.column,b()},write:function(e){if(c=r(c,e),v(),null!==c[c.length-1])return[];return k(n,0),a.events=j(u,a.events,a),a.events}};let d=n.tokenize.call(a,f);return n.resolveAll&&u.push(n),a;function p(e){return function(e,n){const t=n.start._index,r=n.start._bufferIndex,o=n.end._index,i=n.end._bufferIndex;let s;if(t===o)s=[e[t].slice(r,i)];else{if(s=e.slice(t,o),r>-1){const e=s[0];"string"==typeof e?s[0]=e.slice(r):s.shift()}i>0&&s.push(e[o].slice(0,i))}return s}(c,e)}function h(){const{line:e,column:n,offset:t,_index:r,_bufferIndex:o}=i;return{line:e,column:n,offset:t,_index:r,_bufferIndex:o}}function v(){let e;for(;i._index<c.length;){const n=c[i._index];if("string"==typeof n)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<n.length;)m(n.charCodeAt(i._bufferIndex));else m(n)}}function m(e){d=d(e)}function x(e,n){n.restore()}function g(e,n){return function(t,r,o){let s,u,c,d;return Array.isArray(t)?p(t):"tokenize"in t?p([t]):function(e){return n;function n(n){const t=null!==n&&e[n],r=null!==n&&e.null;return p([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(r)?r:r?[r]:[]])(n)}}(t);function p(e){return s=e,u=0,0===e.length?o:v(e[u])}function v(e){return function(t){d=function(){const e=h(),n=a.previous,t=a.currentConstruct,r=a.events.length,o=Array.from(l);return{restore:s,from:r};function s(){i=e,a.previous=n,a.currentConstruct=t,a.events.length=r,l=o,b()}}(),c=e,e.partial||(a.currentConstruct=e);if(e.name&&a.parser.constructs.disable.null.includes(e.name))return x();return e.tokenize.call(n?Object.assign(Object.create(a),n):a,f,m,x)(t)}}function m(n){return e(c,d),r}function x(e){return d.restore(),++u<s.length?v(s[u]):o}}}function k(e,n){e.resolveAll&&!u.includes(e)&&u.push(e),e.resolve&&t(a.events,n,a.events.length-n,e.resolve(a.events.slice(n),a)),e.resolveTo&&(a.events=e.resolveTo(a.events,a))}function b(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}const H={42:u,43:u,45:u,48:u,49:u,50:u,51:u,52:u,53:u,54:u,55:u,56:u,57:u,62:s},J={91:c},K={[-2]:l,[-1]:l,32:l},L={35:h,42:a,45:[d,a],60:p,61:d,95:a,96:f,126:f},N={38:m,92:v},Q={[-5]:S,[-4]:S,[-3]:S,33:I,38:m,42:g,60:[y,w],91:_,92:[b,v],93:k,95:g,96:x},R={null:[g,F]},U=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:J,disable:{null:[]},document:H,flow:L,flowInitial:K,insideSpan:R,string:N,text:Q},Symbol.toStringTag,{value:"Module"}));function V(n){const t={defined:[],lazy:{},constructs:e([U,...(n||{}).extensions||[]]),content:r(A),document:r(O),flow:r(E),string:r(B),text:r(P)};return t;function r(e){return function(n){return G(t,e,n)}}}const W=/[\0\t\n\r]/g;function X(){let e,n=1,t="",r=!0;return function(o,i,s){const u=[];let c,l,f,a,d;o=t+o.toString(i),f=0,t="",r&&(65279===o.charCodeAt(0)&&f++,r=void 0);for(;f<o.length;){if(W.lastIndex=f,c=W.exec(o),a=c&&void 0!==c.index?c.index:o.length,d=o.charCodeAt(a),!c){t=o.slice(f);break}if(10===d&&f===a&&e)u.push(-3),e=void 0;else switch(e&&(u.push(-5),e=void 0),f<a&&(u.push(o.slice(f,a)),n+=a-f),d){case 0:u.push(65533),n++;break;case 9:for(l=4*Math.ceil(n/4),u.push(-2);n++<l;)u.push(-1);break;case 10:u.push(-4),n=1;break;default:e=!0,n=1}f=a+1}s&&(e&&u.push(-5),t&&u.push(t),u.push(null));return u}}function Y(e){for(;!C(e););return e}export{V as a,X as b,Y as p};
//# sourceMappingURL=vendor-micromark-CT66Bizv.js.map
